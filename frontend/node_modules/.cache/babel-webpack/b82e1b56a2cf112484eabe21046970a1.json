{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/olimp/OneDrive/Documentos/estagio/Estagio-etapa-3/GachArena/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nimport * as i2 from \"src/app/services/box.service\";\nimport * as i3 from \"src/app/services/item.service\";\nimport * as i4 from \"src/app/services/ticket.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nconst _c0 = [\"multiGrid\"];\nconst _c1 = [\"openingVideo\"];\n\nfunction GachaHomeComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.…µ…µgetCurrentView();\n\n    i0.…µ…µelementStart(0, \"div\", 10);\n    i0.…µ…µelement(1, \"i\", 11);\n    i0.…µ…µelementStart(2, \"span\");\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"button\", 12);\n    i0.…µ…µlistener(\"click\", function GachaHomeComponent_div_5_Template_button_click_4_listener() {\n      i0.…µ…µrestoreView(_r6);\n      const ctx_r5 = i0.…µ…µnextContext();\n      return ctx_r5.notification.show = false;\n    });\n    i0.…µ…µelement(5, \"i\", 13);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.…µ…µnextContext();\n    i0.…µ…µclassProp(\"success\", ctx_r0.notification.type === \"success\")(\"error\", ctx_r0.notification.type === \"error\")(\"info\", ctx_r0.notification.type === \"info\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µclassProp(\"bi-check-circle-fill\", ctx_r0.notification.type === \"success\")(\"bi-x-circle-fill\", ctx_r0.notification.type === \"error\")(\"bi-info-circle-fill\", ctx_r0.notification.type === \"info\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(ctx_r0.notification.message);\n  }\n}\n\nfunction GachaHomeComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 14);\n    i0.…µ…µelementStart(1, \"div\", 15);\n    i0.…µ…µelementStart(2, \"span\", 16);\n    i0.…µ…µtext(3, \"Carregando...\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"p\", 17);\n    i0.…µ…µtext(5, \"Carregando caixas...\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n  }\n}\n\nfunction GachaHomeComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 18);\n    i0.…µ…µelement(1, \"i\", 19);\n    i0.…µ…µelementStart(2, \"h3\");\n    i0.…µ…µtext(3, \"Nenhuma caixa dispon\\u00EDvel\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"p\");\n    i0.…µ…µtext(5, \"O administrador ainda n\\u00E3o cadastrou caixas no sistema.\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(6, \"p\", 20);\n    i0.…µ…µtext(7, \"Pe\\u00E7a ao admin para popular o banco de dados em \\\"Admin \\u2192 Gerenciar Caixas\\\"\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n  }\n}\n\nfunction GachaHomeComponent_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.…µ…µgetCurrentView();\n\n    i0.…µ…µelementStart(0, \"div\", 23);\n    i0.…µ…µlistener(\"click\", function GachaHomeComponent_div_8_div_1_Template_div_click_0_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r10);\n      const box_r8 = restoredCtx.$implicit;\n      const ctx_r9 = i0.…µ…µnextContext(2);\n      return ctx_r9.selectBox(box_r8);\n    });\n    i0.…µ…µelementStart(1, \"div\", 24);\n    i0.…µ…µelement(2, \"img\", 25);\n    i0.…µ…µelementStart(3, \"div\", 26);\n    i0.…µ…µtext(4);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"div\", 27);\n    i0.…µ…µelementStart(6, \"h3\");\n    i0.…µ…µtext(7);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(8, \"p\");\n    i0.…µ…µtext(9);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const box_r8 = ctx.$implicit;\n    i0.…µ…µclassProp(\"normal-box\", box_r8.type === \"NORMAL\")(\"premium-box\", box_r8.type === \"PREMIUM\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"src\", box_r8.imageUrl, i0.…µ…µsanitizeUrl)(\"alt\", box_r8.name);\n    i0.…µ…µadvance(1);\n    i0.…µ…µclassProp(\"premium\", box_r8.type === \"PREMIUM\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", box_r8.type === \"NORMAL\" ? \"NORMAL\" : \"PREMIUM\", \" \");\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate(box_r8.name);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(box_r8.description);\n  }\n}\n\nfunction GachaHomeComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 21);\n    i0.…µ…µtemplate(1, GachaHomeComponent_div_8_div_1_Template, 10, 11, \"div\", 22);\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r3.boxes);\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.…µ…µgetCurrentView();\n\n    i0.…µ…µelementStart(0, \"div\", 35);\n    i0.…µ…µelement(1, \"div\", 36);\n    i0.…µ…µelement(2, \"img\", 37);\n    i0.…µ…µelementStart(3, \"h2\");\n    i0.…µ…µtext(4);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"div\", 38);\n    i0.…µ…µtext(6);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(7, \"div\", 39);\n    i0.…µ…µelementStart(8, \"span\", 40);\n    i0.…µ…µelement(9, \"i\", 41);\n    i0.…µ…µtext(10);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(11, \"button\", 42);\n    i0.…µ…µlistener(\"click\", function GachaHomeComponent_div_9_div_2_div_1_Template_button_click_11_listener() {\n      i0.…µ…µrestoreView(_r16);\n      const ctx_r15 = i0.…µ…µnextContext(3);\n      return ctx_r15.closeModal();\n    });\n    i0.…µ…µelement(12, \"i\", 43);\n    i0.…µ…µtext(13, \" Continuar \");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r13 = i0.…µ…µnextContext(3);\n    i0.…µ…µstyleProp(\"border-color\", ctx_r13.getRarityColor(ctx_r13.drawnItem.rarity));\n    i0.…µ…µadvance(1);\n    i0.…µ…µstyleProp(\"background\", ctx_r13.getRarityColor(ctx_r13.drawnItem.rarity));\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"src\", ctx_r13.drawnItem.imageUrl, i0.…µ…µsanitizeUrl)(\"alt\", ctx_r13.drawnItem.name);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(ctx_r13.drawnItem.name);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngClass\", ctx_r13.getRarityClass(ctx_r13.drawnItem.rarity));\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", ctx_r13.drawnItem.rarity, \" \");\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate1(\" Poder: \", ctx_r13.drawnItem.power, \" \");\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_2_div_2_h2_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"h2\", 50);\n    i0.…µ…µelement(1, \"i\", 51);\n    i0.…µ…µtext(2);\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r17 = i0.…µ…µnextContext(4);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate2(\" Item \", ctx_r17.currentMultiIndex + 1, \" de \", ctx_r17.multiResults.length, \" \");\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_2_div_2_h2_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"h2\", 50);\n    i0.…µ…µelement(1, \"i\", 51);\n    i0.…µ…µtext(2, \" Multi Abertura Conclu\\u00EDda! \");\n    i0.…µ…µelementEnd();\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_2_div_2_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"p\", 52);\n    i0.…µ…µtext(1, \"Clique no item para continuar\");\n    i0.…µ…µelementEnd();\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_2_div_2_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"p\", 52);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r20 = i0.…µ…µnextContext(4);\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\"Voc\\u00EA ganhou \", ctx_r20.multiResults.length, \" itens!\");\n  }\n}\n\nconst _c2 = function (a0, a1, a2, a3) {\n  return {\n    \"item-exiting\": a0,\n    \"item-entering\": a1,\n    \"first-item\": a2,\n    \"card-revealing\": a3\n  };\n};\n\nfunction GachaHomeComponent_div_9_div_2_div_2_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.…µ…µgetCurrentView();\n\n    i0.…µ…µelementStart(0, \"div\", 53);\n    i0.…µ…µelementStart(1, \"div\", 54);\n    i0.…µ…µlistener(\"click\", function GachaHomeComponent_div_9_div_2_div_2_div_5_Template_div_click_1_listener() {\n      i0.…µ…µrestoreView(_r25);\n      const ctx_r24 = i0.…µ…µnextContext(4);\n      return ctx_r24.nextMultiItem();\n    });\n    i0.…µ…µelement(2, \"div\", 36);\n    i0.…µ…µelement(3, \"img\", 37);\n    i0.…µ…µelementStart(4, \"h2\");\n    i0.…µ…µtext(5);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(6, \"div\", 38);\n    i0.…µ…µtext(7);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(8, \"div\", 39);\n    i0.…µ…µelementStart(9, \"span\", 40);\n    i0.…µ…µelement(10, \"i\", 41);\n    i0.…µ…µtext(11);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r21 = i0.…µ…µnextContext(4);\n    i0.…µ…µadvance(1);\n    i0.…µ…µstyleProp(\"border-color\", ctx_r21.getRarityColor(ctx_r21.revealedMultiResults[0].rarity))(\"--rarity-color\", ctx_r21.getRarityColor(ctx_r21.revealedMultiResults[0].rarity))(\"--rarity-glow\", ctx_r21.getRarityColor(ctx_r21.revealedMultiResults[0].rarity));\n    i0.…µ…µproperty(\"ngClass\", i0.…µ…µpureFunction4(15, _c2, ctx_r21.isItemTransitioning, !ctx_r21.isItemTransitioning && ctx_r21.currentMultiIndex > 0, ctx_r21.currentMultiIndex === 0, !ctx_r21.isItemTransitioning && ctx_r21.currentMultiIndex >= 0));\n    i0.…µ…µadvance(1);\n    i0.…µ…µstyleProp(\"background\", ctx_r21.getRarityColor(ctx_r21.revealedMultiResults[0].rarity));\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"src\", ctx_r21.revealedMultiResults[0].imageUrl, i0.…µ…µsanitizeUrl)(\"alt\", ctx_r21.revealedMultiResults[0].name);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(ctx_r21.revealedMultiResults[0].name);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngClass\", ctx_r21.getRarityClass(ctx_r21.revealedMultiResults[0].rarity));\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", ctx_r21.revealedMultiResults[0].rarity, \" \");\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate1(\" Poder: \", ctx_r21.revealedMultiResults[0].power, \" \");\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_2_div_2_div_6_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 58);\n    i0.…µ…µelement(1, \"div\", 36);\n    i0.…µ…µelement(2, \"img\", 59);\n    i0.…µ…µelementStart(3, \"div\", 60);\n    i0.…µ…µelementStart(4, \"h4\", 61);\n    i0.…µ…µtext(5);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(6, \"span\", 38);\n    i0.…µ…µtext(7);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(8, \"span\", 40);\n    i0.…µ…µelement(9, \"i\", 41);\n    i0.…µ…µtext(10);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r28 = ctx.$implicit;\n    const i_r29 = ctx.index;\n    const ctx_r27 = i0.…µ…µnextContext(5);\n    i0.…µ…µstyleProp(\"border-color\", ctx_r27.getRarityColor(item_r28.rarity))(\"animation-delay\", i_r29 * 0.12 + \"s\")(\"animation-fill-mode\", \"forwards\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µstyleProp(\"background\", ctx_r27.getRarityColor(item_r28.rarity));\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"src\", item_r28.imageUrl, i0.…µ…µsanitizeUrl)(\"alt\", item_r28.name);\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"ngClass\", ctx_r27.getRarityClass(item_r28.rarity));\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate(item_r28.name);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngClass\", ctx_r27.getRarityClass(item_r28.rarity));\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", item_r28.rarity, \" \");\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate1(\" \", item_r28.power, \" \");\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_2_div_2_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 55, 56);\n    i0.…µ…µtemplate(2, GachaHomeComponent_div_9_div_2_div_2_div_6_div_2_Template, 11, 15, \"div\", 57);\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r22 = i0.…µ…µnextContext(4);\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r22.revealedMultiResults);\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_2_div_2_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.…µ…µgetCurrentView();\n\n    i0.…µ…µelementStart(0, \"button\", 62);\n    i0.…µ…µlistener(\"click\", function GachaHomeComponent_div_9_div_2_div_2_button_7_Template_button_click_0_listener() {\n      i0.…µ…µrestoreView(_r31);\n      const ctx_r30 = i0.…µ…µnextContext(4);\n      return ctx_r30.closeModal();\n    });\n    i0.…µ…µelement(1, \"i\", 43);\n    i0.…µ…µtext(2, \" Continuar \");\n    i0.…µ…µelementEnd();\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 44);\n    i0.…µ…µtemplate(1, GachaHomeComponent_div_9_div_2_div_2_h2_1_Template, 3, 2, \"h2\", 45);\n    i0.…µ…µtemplate(2, GachaHomeComponent_div_9_div_2_div_2_h2_2_Template, 3, 0, \"h2\", 45);\n    i0.…µ…µtemplate(3, GachaHomeComponent_div_9_div_2_div_2_p_3_Template, 2, 0, \"p\", 46);\n    i0.…µ…µtemplate(4, GachaHomeComponent_div_9_div_2_div_2_p_4_Template, 2, 1, \"p\", 46);\n    i0.…µ…µtemplate(5, GachaHomeComponent_div_9_div_2_div_2_div_5_Template, 12, 20, \"div\", 47);\n    i0.…µ…µtemplate(6, GachaHomeComponent_div_9_div_2_div_2_div_6_Template, 3, 1, \"div\", 48);\n    i0.…µ…µtemplate(7, GachaHomeComponent_div_9_div_2_div_2_button_7_Template, 3, 0, \"button\", 49);\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r14 = i0.…µ…µnextContext(3);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r14.revealedMultiResults.length < ctx_r14.multiResults.length);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r14.revealedMultiResults.length === ctx_r14.multiResults.length);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r14.revealedMultiResults.length < ctx_r14.multiResults.length);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r14.revealedMultiResults.length === ctx_r14.multiResults.length);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r14.revealedMultiResults.length < ctx_r14.multiResults.length && ctx_r14.revealedMultiResults.length > 0);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r14.revealedMultiResults.length === ctx_r14.multiResults.length);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r14.currentMultiIndex >= ctx_r14.multiResults.length - 1 || ctx_r14.revealedMultiResults.length === ctx_r14.multiResults.length);\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 32);\n    i0.…µ…µtemplate(1, GachaHomeComponent_div_9_div_2_div_1_Template, 14, 10, \"div\", 33);\n    i0.…µ…µtemplate(2, GachaHomeComponent_div_9_div_2_div_2_Template, 8, 7, \"div\", 34);\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.…µ…µnextContext(2);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r11.openMode === \"single\" && ctx_r11.drawnItem);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r11.openMode === \"multi\");\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_3_span_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"span\");\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r32 = i0.…µ…µnextContext(3);\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate2(\" Requer \", ctx_r32.getRequiredTickets().normal + ctx_r32.getRequiredTickets().premium, \" Ticket\", ctx_r32.getRequiredTickets().normal + ctx_r32.getRequiredTickets().premium > 1 ? \"s\" : \"\", \" \");\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_3_span_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"span\");\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r33 = i0.…µ…µnextContext(3);\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate3(\" Requer \", ctx_r33.getRequiredTickets().normal || ctx_r33.getRequiredTickets().premium, \" Ticket\", (ctx_r33.getRequiredTickets().normal || ctx_r33.getRequiredTickets().premium) > 1 ? \"s\" : \"\", \" \", ctx_r33.selectedBox.type === \"NORMAL\" ? \"Normais\" : \"Premium\", \" \");\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_3_div_31_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 86);\n    i0.…µ…µelement(1, \"img\", 87);\n    i0.…µ…µelementStart(2, \"div\", 88);\n    i0.…µ…µelementStart(3, \"span\", 89);\n    i0.…µ…µtext(4);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"span\", 90);\n    i0.…µ…µtext(6);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(7, \"span\", 91);\n    i0.…µ…µtext(8);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r39 = ctx.$implicit;\n    const ctx_r38 = i0.…µ…µnextContext(4);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"src\", item_r39.imageUrl, i0.…µ…µsanitizeUrl)(\"alt\", item_r39.name);\n    i0.…µ…µadvance(2);\n    i0.…µ…µclassMap(ctx_r38.getRarityClass(item_r39.rarity));\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate(item_r39.name);\n    i0.…µ…µadvance(1);\n    i0.…µ…µclassMap(ctx_r38.getRarityClass(item_r39.rarity));\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate(item_r39.rarity);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"\", (item_r39.dropRate || 0).toFixed(2), \"%\");\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_3_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 81);\n    i0.…µ…µelementStart(1, \"h5\", 82);\n    i0.…µ…µelement(2, \"i\", 83);\n    i0.…µ…µtext(3, \" Chances de Drop\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"div\", 84);\n    i0.…µ…µtemplate(5, GachaHomeComponent_div_9_div_3_div_31_div_5_Template, 9, 9, \"div\", 85);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r34 = i0.…µ…µnextContext(3);\n    i0.…µ…µadvance(5);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r34.boxItems);\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_3_span_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"span\");\n    i0.…µ…µelement(1, \"i\");\n    i0.…µ…µtext(2);\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r35 = i0.…µ…µnextContext(3);\n    i0.…µ…µadvance(1);\n    i0.…µ…µclassMapInterpolate1(\"bi bi-\", ctx_r35.openMode === \"single\" ? \"box-seam\" : \"boxes\", \"\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", ctx_r35.openMode === \"single\" ? \"Abrir 1 Caixa\" : \"Abrir \" + (ctx_r35.selectedBox.type === \"NORMAL\" ? \"10\" : \"5\") + \" Caixas\", \" \");\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_3_span_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"span\", 92);\n    i0.…µ…µelement(1, \"i\", 93);\n    i0.…µ…µtext(2, \" Abrindo... \");\n    i0.…µ…µelementEnd();\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_3_div_35_video_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.…µ…µgetCurrentView();\n\n    i0.…µ…µelementStart(0, \"video\", 109, 110);\n    i0.…µ…µlistener(\"ended\", function GachaHomeComponent_div_9_div_3_div_35_video_11_Template_video_ended_0_listener() {\n      i0.…µ…µrestoreView(_r46);\n      const ctx_r45 = i0.…µ…µnextContext(4);\n      return ctx_r45.onAnimationComplete();\n    })(\"error\", function GachaHomeComponent_div_9_div_3_div_35_video_11_Template_video_error_0_listener() {\n      i0.…µ…µrestoreView(_r46);\n      const ctx_r47 = i0.…µ…µnextContext(4);\n      return ctx_r47.onVideoError();\n    })(\"loadedmetadata\", function GachaHomeComponent_div_9_div_3_div_35_video_11_Template_video_loadedmetadata_0_listener($event) {\n      i0.…µ…µrestoreView(_r46);\n      const ctx_r48 = i0.…µ…µnextContext(4);\n      return ctx_r48.onVideoMetadata($event);\n    });\n    i0.…µ…µelement(2, \"source\", 111);\n    i0.…µ…µelement(3, \"source\", 112);\n    i0.…µ…µelement(4, \"source\", 113);\n    i0.…µ…µtext(5, \" Seu navegador n\\u00E3o suporta v\\u00EDdeos. \");\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r40 = i0.…µ…µnextContext(4);\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"src\", ctx_r40.effectiveAnimationSrc, i0.…µ…µsanitizeUrl);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"src\", ctx_r40.effectiveAnimationSrc.replace(\".mp4\", \".webm\"), i0.…µ…µsanitizeUrl);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"src\", ctx_r40.effectiveAnimationSrc.replace(\".mp4\", \".avi\"), i0.…µ…µsanitizeUrl);\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_3_div_35_img_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r50 = i0.…µ…µgetCurrentView();\n\n    i0.…µ…µelementStart(0, \"img\", 114);\n    i0.…µ…µlistener(\"load\", function GachaHomeComponent_div_9_div_3_div_35_img_12_Template_img_load_0_listener() {\n      i0.…µ…µrestoreView(_r50);\n      const ctx_r49 = i0.…µ…µnextContext(4);\n      return ctx_r49.onGifLoaded();\n    })(\"error\", function GachaHomeComponent_div_9_div_3_div_35_img_12_Template_img_error_0_listener() {\n      i0.…µ…µrestoreView(_r50);\n      const ctx_r51 = i0.…µ…µnextContext(4);\n      return ctx_r51.onGifError();\n    });\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r41 = i0.…µ…µnextContext(4);\n    i0.…µ…µproperty(\"src\", ctx_r41.effectiveAnimationSrc, i0.…µ…µsanitizeUrl);\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_3_div_35_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 115);\n    i0.…µ…µelementStart(1, \"div\", 116);\n    i0.…µ…µelement(2, \"i\", 117);\n    i0.…µ…µelementStart(3, \"div\", 118);\n    i0.…µ…µtext(4, \"Revelando...\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_3_div_35_button_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r53 = i0.…µ…µgetCurrentView();\n\n    i0.…µ…µelementStart(0, \"button\", 119);\n    i0.…µ…µlistener(\"click\", function GachaHomeComponent_div_9_div_3_div_35_button_19_Template_button_click_0_listener() {\n      i0.…µ…µrestoreView(_r53);\n      const ctx_r52 = i0.…µ…µnextContext(4);\n      return ctx_r52.skipAnimation();\n    });\n    i0.…µ…µelement(1, \"i\", 120);\n    i0.…µ…µtext(2, \" Pular \");\n    i0.…µ…µelementEnd();\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_3_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 94);\n    i0.…µ…µelementStart(1, \"div\", 95);\n    i0.…µ…µelementStart(2, \"div\", 96);\n    i0.…µ…µelementStart(3, \"h3\");\n    i0.…µ…µtext(4, \"Revelando...\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"div\", 97);\n    i0.…µ…µelement(6, \"i\", 98);\n    i0.…µ…µelementStart(7, \"span\");\n    i0.…µ…µtext(8);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(9, \"div\", 99);\n    i0.…µ…µelementStart(10, \"div\", 100);\n    i0.…µ…µtemplate(11, GachaHomeComponent_div_9_div_3_div_35_video_11_Template, 6, 3, \"video\", 101);\n    i0.…µ…µtemplate(12, GachaHomeComponent_div_9_div_3_div_35_img_12_Template, 1, 1, \"img\", 102);\n    i0.…µ…µtemplate(13, GachaHomeComponent_div_9_div_3_div_35_div_13_Template, 5, 0, \"div\", 103);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(14, \"div\", 104);\n    i0.…µ…µelementStart(15, \"div\", 105);\n    i0.…µ…µelement(16, \"i\", 106);\n    i0.…µ…µelementStart(17, \"span\", 107);\n    i0.…µ…µtext(18, \"Revelando Itens...\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(19, GachaHomeComponent_div_9_div_3_div_35_button_19_Template, 3, 0, \"button\", 108);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r37 = i0.…µ…µnextContext(3);\n    i0.…µ…µadvance(8);\n    i0.…µ…µtextInterpolate(ctx_r37.selectedBox.name);\n    i0.…µ…µadvance(3);\n    i0.…µ…µproperty(\"ngIf\", ctx_r37.effectiveAnimationType === \"video\" && ctx_r37.effectiveAnimationSrc);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r37.effectiveAnimationType === \"gif\" && ctx_r37.effectiveAnimationSrc);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", !ctx_r37.effectiveAnimationSrc);\n    i0.…µ…µadvance(6);\n    i0.…µ…µproperty(\"ngIf\", ctx_r37.canSkipAnimation);\n  }\n}\n\nfunction GachaHomeComponent_div_9_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r55 = i0.…µ…µgetCurrentView();\n\n    i0.…µ…µelementStart(0, \"div\", 63);\n    i0.…µ…µelementStart(1, \"button\", 12);\n    i0.…µ…µlistener(\"click\", function GachaHomeComponent_div_9_div_3_Template_button_click_1_listener() {\n      i0.…µ…µrestoreView(_r55);\n      const ctx_r54 = i0.…µ…µnextContext(2);\n      return ctx_r54.closeModal();\n    });\n    i0.…µ…µelement(2, \"i\", 64);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"div\", 65);\n    i0.…µ…µelementStart(4, \"h2\");\n    i0.…µ…µtext(5);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(6, \"span\", 66);\n    i0.…µ…µtext(7);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(8, \"div\", 67);\n    i0.…µ…µelement(9, \"img\", 25);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(10, \"p\", 68);\n    i0.…µ…µtext(11);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(12, \"div\", 69);\n    i0.…µ…µelementStart(13, \"div\", 70);\n    i0.…µ…µelementStart(14, \"button\", 71);\n    i0.…µ…µlistener(\"click\", function GachaHomeComponent_div_9_div_3_Template_button_click_14_listener() {\n      i0.…µ…µrestoreView(_r55);\n      const ctx_r56 = i0.…µ…µnextContext(2);\n      return ctx_r56.setOpenMode(\"single\");\n    });\n    i0.…µ…µelementStart(15, \"span\");\n    i0.…µ…µtext(16, \"1\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(17, \"small\");\n    i0.…µ…µelement(18, \"img\", 72);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(19, \"button\", 71);\n    i0.…µ…µlistener(\"click\", function GachaHomeComponent_div_9_div_3_Template_button_click_19_listener() {\n      i0.…µ…µrestoreView(_r55);\n      const ctx_r57 = i0.…µ…µnextContext(2);\n      return ctx_r57.setOpenMode(\"multi\");\n    });\n    i0.…µ…µelementStart(20, \"span\");\n    i0.…µ…µtext(21);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(22, \"small\");\n    i0.…µ…µelement(23, \"img\", 72);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(24, \"div\", 73);\n    i0.…µ…µelement(25, \"i\", 74);\n    i0.…µ…µtemplate(26, GachaHomeComponent_div_9_div_3_span_26_Template, 2, 2, \"span\", 75);\n    i0.…µ…µtemplate(27, GachaHomeComponent_div_9_div_3_span_27_Template, 2, 3, \"span\", 75);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(28, \"button\", 76);\n    i0.…µ…µlistener(\"click\", function GachaHomeComponent_div_9_div_3_Template_button_click_28_listener() {\n      i0.…µ…µrestoreView(_r55);\n      const ctx_r58 = i0.…µ…µnextContext(2);\n      return ctx_r58.toggleDropRates();\n    });\n    i0.…µ…µelement(29, \"i\");\n    i0.…µ…µtext(30);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(31, GachaHomeComponent_div_9_div_3_div_31_Template, 6, 1, \"div\", 77);\n    i0.…µ…µelementStart(32, \"button\", 78);\n    i0.…µ…µlistener(\"click\", function GachaHomeComponent_div_9_div_3_Template_button_click_32_listener() {\n      i0.…µ…µrestoreView(_r55);\n      const ctx_r59 = i0.…µ…µnextContext(2);\n      return ctx_r59.openBox();\n    });\n    i0.…µ…µtemplate(33, GachaHomeComponent_div_9_div_3_span_33_Template, 3, 4, \"span\", 75);\n    i0.…µ…µtemplate(34, GachaHomeComponent_div_9_div_3_span_34_Template, 3, 0, \"span\", 79);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(35, GachaHomeComponent_div_9_div_3_div_35_Template, 20, 5, \"div\", 80);\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.…µ…µnextContext(2);\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate(ctx_r12.selectedBox.name);\n    i0.…µ…µadvance(1);\n    i0.…µ…µclassProp(\"premium\", ctx_r12.selectedBox.type === \"PREMIUM\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", ctx_r12.selectedBox.type, \" \");\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"src\", ctx_r12.selectedBox.imageUrl, i0.…µ…µsanitizeUrl)(\"alt\", ctx_r12.selectedBox.name);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(ctx_r12.selectedBox.description);\n    i0.…µ…µadvance(3);\n    i0.…µ…µclassProp(\"active\", ctx_r12.openMode === \"single\");\n    i0.…µ…µadvance(4);\n    i0.…µ…µpropertyInterpolate1(\"src\", \"https://static.wikitide.net/cravesagawiki/\", ctx_r12.selectedBox.type === \"NORMAL\" ? \"4/46/Platinum_Gacha_Ticket.png\" : \"f/fe/SR_or_Higher_Gacha_Ticket.png\", \"\", i0.…µ…µsanitizeUrl);\n    i0.…µ…µadvance(1);\n    i0.…µ…µclassProp(\"active\", ctx_r12.openMode === \"multi\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(ctx_r12.selectedBox.type === \"NORMAL\" ? \"10\" : \"5\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µpropertyInterpolate1(\"src\", \"https://static.wikitide.net/cravesagawiki/\", ctx_r12.selectedBox.type === \"NORMAL\" ? \"4/46/Platinum_Gacha_Ticket.png\" : \"f/fe/SR_or_Higher_Gacha_Ticket.png\", \"\", i0.…µ…µsanitizeUrl);\n    i0.…µ…µadvance(1);\n    i0.…µ…µclassMap(ctx_r12.openMode === \"multi\" ? \"multi-requirement\" : \"\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"ngIf\", ctx_r12.openMode === \"single\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r12.openMode === \"multi\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µclassMapInterpolate1(\"bi bi-\", ctx_r12.showDropRates ? \"eye-slash\" : \"eye\", \"\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", ctx_r12.showDropRates ? \"Ocultar\" : \"Ver\", \" Taxas de Drop \");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r12.showDropRates);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"disabled\", ctx_r12.loading || !ctx_r12.hasEnoughTickets());\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", !ctx_r12.loading);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r12.loading);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r12.isAnimating);\n  }\n}\n\nfunction GachaHomeComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r61 = i0.…µ…µgetCurrentView();\n\n    i0.…µ…µelementStart(0, \"div\", 28);\n    i0.…µ…µlistener(\"click\", function GachaHomeComponent_div_9_Template_div_click_0_listener() {\n      i0.…µ…µrestoreView(_r61);\n      const ctx_r60 = i0.…µ…µnextContext();\n      return ctx_r60.closeModal();\n    });\n    i0.…µ…µelementStart(1, \"div\", 29);\n    i0.…µ…µlistener(\"click\", function GachaHomeComponent_div_9_Template_div_click_1_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.…µ…µtemplate(2, GachaHomeComponent_div_9_div_2_Template, 3, 2, \"div\", 30);\n    i0.…µ…µtemplate(3, GachaHomeComponent_div_9_div_3_Template, 36, 27, \"div\", 31);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"ngIf\", ctx_r4.showResult);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", !ctx_r4.showResult);\n  }\n}\n\nexport let GachaHomeComponent = /*#__PURE__*/(() => {\n  class GachaHomeComponent {\n    constructor(authService, boxService, itemService, ticketService, router, cd) {\n      this.authService = authService;\n      this.boxService = boxService;\n      this.itemService = itemService;\n      this.ticketService = ticketService;\n      this.router = router;\n      this.cd = cd;\n      this.boxes = [];\n      this.tickets = {\n        normalTickets: 0,\n        premiumTickets: 0\n      };\n      this.userId = '';\n      this.loading = false;\n      this.selectedBox = null;\n      this.drawnItem = null;\n      this.drawnRarityLevel = 0;\n      this.showResult = false;\n      this.boxItems = [];\n      this.showDropRates = false; // Modo de abertura\n\n      this.openMode = 'single';\n      this.multiResults = [];\n      this.revealedMultiResults = [];\n      this.revealTimers = [];\n      this.isMultiOpening = false;\n      this.isAnimating = false;\n      this.resultsReady = false;\n      this.canSkipAnimation = false;\n      this.currentMultiIndex = 0;\n      this.isItemTransitioning = false;\n      this.openingAnimationType = 'auto'; // 'auto' detecta pela extens√£o\n\n      this.openingAnimationSrc = 'assets/backgrounds/1bb90899170e8e1c2a8888dce944bd99.gif'; // caminho para o v√≠deo/gif\n      // Sistema de notifica√ß√µes\n\n      this.notification = {\n        show: false,\n        message: '',\n        type: 'success'\n      };\n      this.forceAnimationType = null;\n      this.forceAnimationSrc = null;\n    } // Getter que determina o tipo de anima√ß√£o a ser usado (da caixa ou fallback global)\n\n\n    get currentAnimationType() {\n      var _a, _b, _c, _d; // S√≥ usa anima√ß√£o se a caixa espec√≠fica tiver uma configurada\n\n\n      const animationType = (_a = this.selectedBox) === null || _a === void 0 ? void 0 : _a.openingAnimationType;\n      const animationSrc = (_b = this.selectedBox) === null || _b === void 0 ? void 0 : _b.openingAnimationSrc; // Se n√£o h√° anima√ß√£o espec√≠fica da caixa, retorna null\n\n      if (!animationSrc) {\n        return null;\n      }\n\n      if (animationType === 'auto') {\n        // Detecta automaticamente pela extens√£o do arquivo ou pelo tipo MIME\n        const extension = (_c = animationSrc.split('.').pop()) === null || _c === void 0 ? void 0 : _c.toLowerCase();\n        const fileName = ((_d = animationSrc.split('/').pop()) === null || _d === void 0 ? void 0 : _d.toLowerCase()) || ''; // Verifica extens√£o\n\n        if (extension === 'gif' || fileName.includes('.gif')) {\n          return 'gif';\n        } // Verifica se √© uma URL do Firebase Storage (geralmente sem extens√£o clara)\n\n\n        if (animationSrc.includes('firebasestorage.googleapis.com')) {\n          // Para Firebase Storage, tenta detectar pelo nome do arquivo\n          if (fileName.includes('gif') || fileName.includes('animation') && !fileName.includes('mp4') && !fileName.includes('webm')) {\n            return 'gif';\n          }\n\n          return 'video'; // assume v√≠deo por padr√£o no Firebase\n        } // Assume v√≠deo para outras extens√µes (mp4, webm, avi, mov, etc.)\n\n\n        return 'video';\n      } else if (animationType === 'video') {\n        return 'video';\n      } else if (animationType === 'gif') {\n        return 'gif';\n      } else {\n        return null;\n      }\n    } // Getter que retorna o caminho da anima√ß√£o atual (da caixa ou fallback global)\n\n\n    get currentAnimationSrc() {\n      var _a; // S√≥ retorna anima√ß√£o se a caixa espec√≠fica tiver uma configurada\n\n\n      return ((_a = this.selectedBox) === null || _a === void 0 ? void 0 : _a.openingAnimationSrc) || null;\n    }\n\n    ngOnInit() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        const user = yield _this.authService.getCurrentUser();\n\n        if (!user) {\n          _this.router.navigate(['/login']);\n\n          return;\n        }\n\n        _this.userId = user.uid;\n        yield _this.loadData();\n      })();\n    }\n\n    showNotification(message, type = 'success') {\n      this.notification = {\n        show: true,\n        message,\n        type\n      };\n      setTimeout(() => {\n        this.notification.show = false;\n      }, 4000);\n    }\n\n    loadData() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        _this2.loading = true;\n\n        try {\n          console.log('Carregando caixas...');\n          _this2.boxes = yield _this2.boxService.getActiveBoxes();\n          console.log('Caixas carregadas:', _this2.boxes.length, _this2.boxes);\n          _this2.tickets = yield _this2.ticketService.getUserTickets(_this2.userId);\n          console.log('Tickets carregados:', _this2.tickets);\n        } catch (error) {\n          console.error('Erro ao carregar dados:', error);\n\n          _this2.showNotification('‚ùå Erro ao carregar dados do gacha', 'error');\n        } finally {\n          _this2.loading = false;\n          console.log('Loading finalizado. Boxes:', _this2.boxes.length);\n        }\n      })();\n    }\n\n    selectBox(box) {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        _this3.selectedBox = box;\n        _this3.showResult = false;\n        _this3.drawnItem = null;\n        _this3.drawnRarityLevel = 0;\n        _this3.showDropRates = false;\n        _this3.openMode = 'single';\n        _this3.multiResults = [];\n        _this3.isMultiOpening = false; // Carregar itens da caixa\n\n        try {\n          _this3.boxItems = yield _this3.itemService.getItemsByBox(box.id);\n          console.log('Itens carregados:', _this3.boxItems);\n          console.log('DropRates:', _this3.boxItems.map(i => ({\n            name: i.name,\n            dropRate: i.dropRate\n          }))); // Ordenar por raridade e depois por dropRate\n\n          _this3.boxItems.sort((a, b) => {\n            const rarityOrder = {\n              'MITICO': 5,\n              'LENDARIO': 4,\n              'EPICO': 3,\n              'RARO': 2,\n              'COMUM': 1\n            };\n            const rarityDiff = rarityOrder[b.rarity] - rarityOrder[a.rarity];\n            if (rarityDiff !== 0) return rarityDiff;\n            return (b.dropRate || 0) - (a.dropRate || 0);\n          });\n        } catch (error) {\n          console.error('Erro ao carregar itens da caixa:', error);\n        }\n      })();\n    }\n\n    setOpenMode(mode) {\n      this.openMode = mode;\n      this.showResult = false;\n      this.drawnItem = null;\n      this.multiResults = [];\n      this.isMultiOpening = false;\n    }\n\n    getRequiredTickets() {\n      if (!this.selectedBox) return {\n        normal: 0,\n        premium: 0\n      };\n\n      if (this.openMode === 'single') {\n        return this.selectedBox.type === 'NORMAL' ? {\n          normal: 1,\n          premium: 0\n        } : {\n          normal: 0,\n          premium: 1\n        };\n      } else {\n        // Modo multi: depende do tipo da caixa\n        if (this.selectedBox.type === 'NORMAL') {\n          return {\n            normal: 10,\n            premium: 0\n          }; // 10 caixas normais\n        } else {\n          return {\n            normal: 0,\n            premium: 5\n          }; // 5 caixas premium\n        }\n      }\n    }\n\n    hasEnoughTickets() {\n      const required = this.getRequiredTickets();\n      return this.tickets.normalTickets >= required.normal && this.tickets.premiumTickets >= required.premium;\n    }\n\n    toggleDropRates() {\n      this.showDropRates = !this.showDropRates;\n    }\n\n    closeModal() {\n      this.selectedBox = null;\n      this.showResult = false;\n      this.drawnItem = null;\n      this.drawnRarityLevel = 0;\n      this.isAnimating = false;\n      this.canSkipAnimation = false;\n      this.resultsReady = false;\n      this.multiResults = [];\n      this.revealedMultiResults = [];\n      this.currentMultiIndex = 0;\n      this.isItemTransitioning = false; // limpar reveals pendentes\n\n      this.revealTimers.forEach(t => clearTimeout(t));\n      this.revealTimers = [];\n      this.clearAnimationTimeout();\n    }\n\n    openBox() {\n      var _this4 = this;\n\n      return _asyncToGenerator(function* () {\n        if (!_this4.selectedBox || _this4.loading) return;\n\n        if (!_this4.hasEnoughTickets()) {\n          const required = _this4.getRequiredTickets();\n\n          _this4.showNotification(`‚ùå Voc√™ n√£o tem tickets suficientes! Precisa de ${required.normal} normais e ${required.premium} premium.`, 'error');\n\n          return;\n        }\n\n        _this4.loading = true;\n\n        try {\n          if (_this4.openMode === 'single') {\n            yield _this4.openSingleBox();\n          } else {\n            yield _this4.openMultiBox();\n          }\n        } catch (error) {\n          console.error('Erro ao abrir caixa:', error);\n\n          _this4.showNotification('‚ùå Erro ao abrir caixa', 'error');\n        }\n      })();\n    }\n\n    openSingleBox() {\n      var _this5 = this;\n\n      return _asyncToGenerator(function* () {\n        var _a;\n\n        if (!_this5.selectedBox) return; // Verificar se h√° anima√ß√£o espec√≠fica da caixa\n\n        const hasAnimation = !!((_a = _this5.selectedBox) === null || _a === void 0 ? void 0 : _a.openingAnimationSrc);\n\n        if (hasAnimation) {\n          // Iniciar anima√ß√£o imediatamente como loading\n          _this5.isAnimating = true;\n          _this5.canSkipAnimation = true;\n\n          _this5.startAnimationTimeout(); // Inicia timeout de seguran√ßa\n\n\n          _this5.cd.detectChanges();\n        } // Fazer o processamento em paralelo ou depois\n\n\n        const boxType = _this5.selectedBox.type;\n        const used = yield _this5.ticketService.useTicket(_this5.userId, boxType);\n\n        if (!used) {\n          _this5.showNotification('‚ùå Erro ao usar ticket', 'error');\n\n          _this5.isAnimating = false; // Parar anima√ß√£o se erro\n\n          _this5.canSkipAnimation = false;\n          return;\n        }\n\n        _this5.drawnItem = yield _this5.itemService.drawRandomItem(_this5.selectedBox.id);\n        _this5.drawnRarityLevel = yield _this5.itemService.addItemToUser(_this5.userId, _this5.drawnItem.id);\n        yield _this5.ticketService.refreshTickets(_this5.userId); // Atualizar tickets na navbar\n\n        console.log('[GachaHome] openSingleBox: drawnItem=', _this5.drawnItem);\n\n        if (hasAnimation) {\n          // Marcar que os resultados est√£o prontos\n          _this5.resultsReady = true; // A anima√ß√£o continuar√° e chamar√° onAnimationComplete quando terminar\n        } else {\n          // N√£o h√° anima√ß√£o, mostrar resultados imediatamente\n          setTimeout(() => {\n            _this5.showResult = true;\n            _this5.loading = false;\n          }, 500);\n        }\n      })();\n    }\n\n    openMultiBox() {\n      var _this6 = this;\n\n      return _asyncToGenerator(function* () {\n        var _a;\n\n        if (!_this6.selectedBox) return;\n        _this6.isMultiOpening = true;\n        _this6.multiResults = [];\n\n        const required = _this6.getRequiredTickets();\n\n        const totalOpens = required.normal + required.premium; // Verificar se h√° anima√ß√£o espec√≠fica da caixa\n\n        const hasAnimation = !!((_a = _this6.selectedBox) === null || _a === void 0 ? void 0 : _a.openingAnimationSrc);\n\n        if (hasAnimation) {\n          // Iniciar anima√ß√£o imediatamente como loading\n          _this6.isAnimating = true;\n          _this6.canSkipAnimation = true;\n\n          _this6.startAnimationTimeout(); // Inicia timeout de seguran√ßa\n\n\n          _this6.cd.detectChanges();\n        }\n\n        try {\n          // Abrir caixas baseado no tipo selecionado\n          if (_this6.selectedBox.type === 'NORMAL') {\n            // Abrir 10 caixas normais\n            for (let i = 0; i < required.normal; i++) {\n              const used = yield _this6.ticketService.useTicket(_this6.userId, 'NORMAL');\n\n              if (used) {\n                const item = yield _this6.itemService.drawRandomItem(_this6.selectedBox.id);\n                yield _this6.itemService.addItemToUser(_this6.userId, item.id);\n\n                _this6.multiResults.push(item);\n              }\n            }\n          } else {\n            // Abrir 5 caixas premium\n            for (let i = 0; i < required.premium; i++) {\n              const used = yield _this6.ticketService.useTicket(_this6.userId, 'PREMIUM');\n\n              if (used) {\n                const item = yield _this6.itemService.drawRandomItem(_this6.selectedBox.id);\n                yield _this6.itemService.addItemToUser(_this6.userId, item.id);\n\n                _this6.multiResults.push(item);\n              }\n            }\n          }\n\n          _this6.tickets = yield _this6.ticketService.getUserTickets(_this6.userId);\n\n          _this6.showNotification(`üéâ Voc√™ abriu ${totalOpens} caixas e ganhou ${_this6.multiResults.length} itens!`, 'success');\n\n          if (hasAnimation) {\n            // Marcar que os resultados est√£o prontos\n            _this6.resultsReady = true; // A anima√ß√£o continuar√° e chamar√° onAnimationComplete quando terminar\n          } else {\n            // N√£o h√° anima√ß√£o espec√≠fica, mostrar resultados imediatamente\n            setTimeout(() => {\n              _this6.showResult = true;\n              _this6.loading = false; // Iniciar reveal sequencial dos itens\n\n              _this6.revealMultiResults();\n            }, 500);\n          }\n        } catch (error) {\n          console.error('Erro na abertura m√∫ltipla:', error);\n\n          _this6.showNotification('‚ùå Erro durante abertura m√∫ltipla', 'error');\n\n          _this6.isAnimating = false; // Parar anima√ß√£o se erro\n\n          _this6.canSkipAnimation = false;\n        } finally {\n          _this6.isMultiOpening = false;\n        }\n      })();\n    }\n\n    getRarityClass(rarity) {\n      const classes = {\n        'COMUM': 'rarity-comum',\n        'RARO': 'rarity-raro',\n        'EPICO': 'rarity-epico',\n        'LENDARIO': 'rarity-lendario',\n        'MITICO': 'rarity-mitico'\n      };\n      return classes[rarity] || '';\n    }\n\n    getRarityColor(rarity) {\n      const colors = {\n        'COMUM': '#9e9e9e',\n        'RARO': '#4fc3f7',\n        'EPICO': '#ba68c8',\n        'LENDARIO': '#ffd54f',\n        'MITICO': '#ff6f00'\n      };\n      return colors[rarity] || '#fff';\n    }\n\n    onAnimationComplete() {\n      // Anima√ß√£o completa, verificar se resultados est√£o prontos\n      console.log('[GachaHome] Anima√ß√£o de abertura completa');\n      this.clearAnimationTimeout();\n\n      if (this.resultsReady) {\n        // Resultados prontos, mostrar\n        this.showResult = true;\n        this.loading = false;\n        this.isAnimating = false;\n        this.canSkipAnimation = false;\n        this.resultsReady = false; // Resetar para pr√≥ximas aberturas\n        // Iniciar reveal sequencial dos itens **somente se ainda n√£o come√ßou**\n\n        if (!this.revealedMultiResults || this.revealedMultiResults.length === 0) {\n          this.revealMultiResults();\n        }\n      } else {\n        // Resultados ainda n√£o prontos, esperar um pouco\n        console.log('[GachaHome] Resultados ainda n√£o prontos, esperando...');\n        setTimeout(() => {\n          if (this.resultsReady) {\n            this.showResult = true;\n            this.loading = false;\n            this.isAnimating = false;\n            this.canSkipAnimation = false;\n            this.resultsReady = false;\n\n            if (!this.revealedMultiResults || this.revealedMultiResults.length === 0) {\n              this.revealMultiResults();\n            }\n          } else {\n            // Se ainda n√£o estiver pronto, for√ßar mostrar (fallback)\n            console.warn('[GachaHome] For√ßando mostrar resultados ap√≥s timeout');\n            this.showResult = true;\n            this.loading = false;\n            this.isAnimating = false;\n            this.canSkipAnimation = false;\n            this.resultsReady = false;\n\n            if (!this.revealedMultiResults || this.revealedMultiResults.length === 0) {\n              this.revealMultiResults();\n            }\n          }\n        }, 500);\n      }\n    }\n\n    skipAnimation() {\n      console.log('[GachaHome] Usu√°rio pulou a anima√ß√£o');\n      this.clearAnimationTimeout();\n      this.onAnimationComplete();\n    }\n\n    onVideoError() {\n      console.warn('[GachaHome] Erro ao carregar v√≠deo, tentando fallback...'); // Se o v√≠deo falhar, tenta usar GIF ou anima√ß√£o padr√£o\n\n      if (this.currentAnimationType === 'video' && this.currentAnimationSrc) {\n        // Tenta converter para GIF se poss√≠vel\n        const gifSrc = this.currentAnimationSrc.replace(/\\.(mp4|webm|avi|mov)$/i, '.gif');\n\n        if (gifSrc !== this.currentAnimationSrc) {\n          console.log('[GachaHome] Tentando fallback para GIF:', gifSrc); // For√ßa mudan√ßa tempor√°ria para GIF\n\n          this.forceAnimationType = 'gif';\n          this.forceAnimationSrc = gifSrc;\n          this.cd.detectChanges();\n          return;\n        }\n      } // Se n√£o conseguir fallback, for√ßa completar em 3 segundos\n\n\n      this.forceCompleteAnimation();\n    }\n\n    onGifError() {\n      console.warn('[GachaHome] Erro ao carregar GIF, usando anima√ß√£o padr√£o...');\n      this.forceCompleteAnimation();\n    }\n\n    onGifLoaded() {\n      console.log('[GachaHome] GIF carregado, definindo dura√ß√£o padr√£o de 8 segundos'); // Para GIFs (ou enquanto estiver convertendo GIFs para v√≠deos), usar dura√ß√£o padr√£o de 8s\n\n      this.startAnimationTimeout(8000); // O pr√≥prio timeout chamar√° forceCompleteAnimation() que executar√° onAnimationComplete()\n    }\n\n    ensureMuted(event) {\n      const video = event.target;\n\n      if (video) {\n        video.muted = true;\n        video.volume = 0;\n        console.log('[GachaHome] V√≠deo garantido como mudo');\n      }\n    } // Quando o metadado do v√≠deo carrega, usamos a dura√ß√£o real para o timeout\n\n\n    onVideoMetadata(event) {\n      const video = event.target;\n\n      if (video && !isNaN(video.duration) && isFinite(video.duration) && video.duration > 0) {\n        const ms = Math.ceil(video.duration * 1000) + 300; // pequeno buffer\n\n        console.log('[GachaHome] Dura√ß√£o do v√≠deo detectada:', video.duration, 's => timeout', ms, 'ms');\n        this.startAnimationTimeout(ms);\n      } else {\n        // fallback para 10s se n√£o for poss√≠vel detectar\n        this.startAnimationTimeout(10000);\n      } // Garante mudo tamb√©m\n\n\n      this.ensureMuted(event);\n    }\n\n    startAnimationTimeout(durationMs) {\n      // Timeout de seguran√ßa: for√ßa completar ap√≥s durationMs (ms) ou 10 segundos por padr√£o\n      this.clearAnimationTimeout();\n      const timeout = typeof durationMs === 'number' ? durationMs : 10000;\n      this.animationTimeout = setTimeout(() => {\n        console.warn('[GachaHome] Timeout da anima√ß√£o excedido, for√ßando conclus√£o...');\n        this.forceCompleteAnimation();\n      }, timeout);\n    }\n\n    clearAnimationTimeout() {\n      if (this.animationTimeout) {\n        clearTimeout(this.animationTimeout);\n        this.animationTimeout = null;\n      }\n    }\n\n    forceCompleteAnimation() {\n      this.clearAnimationTimeout();\n      this.forceAnimationType = null;\n      this.forceAnimationSrc = null;\n      this.onAnimationComplete();\n    } // Override dos getters para for√ßar tipo quando necess√°rio\n\n\n    get effectiveAnimationType() {\n      return this.forceAnimationType || this.currentAnimationType;\n    }\n\n    get effectiveAnimationSrc() {\n      return this.forceAnimationSrc || this.currentAnimationSrc;\n    } // Revela os itens do multi-results de forma sequencial (stagger)\n\n\n    revealMultiResults(delayBetween = 180, startIndex) {\n      if (!this.multiResults || this.multiResults.length === 0) return;\n      const start = startIndex !== null && startIndex !== void 0 ? startIndex : 0;\n      this.currentMultiIndex = start;\n      this.revealedMultiResults = [this.multiResults[start]];\n      this.isItemTransitioning = false; // Garante que o primeiro item apare√ßa com anima√ß√£o de entrada\n\n      console.debug('[GachaHome] revealed first item of', this.multiResults.length, 'items');\n      this.cd.detectChanges();\n    }\n\n    nextMultiItem() {\n      if (this.currentMultiIndex < this.multiResults.length - 1 && !this.isItemTransitioning) {\n        this.isItemTransitioning = true; // Anima√ß√£o de sa√≠da do item atual\n\n        this.cd.detectChanges();\n        setTimeout(() => {\n          this.currentMultiIndex++; // Mostra apenas o item atual (n√£o acumula)\n\n          this.revealedMultiResults = [this.multiResults[this.currentMultiIndex]]; // Pequeno delay antes de permitir a revela√ß√£o para evitar conflitos visuais\n\n          setTimeout(() => {\n            this.isItemTransitioning = false; // Permite que a revela√ß√£o comece\n\n            console.debug('[GachaHome] showing item', this.currentMultiIndex + 1, 'of', this.multiResults.length);\n            this.cd.detectChanges();\n          }, 100); // Delay adicional para estabilizar\n\n          this.cd.detectChanges();\n        }, 600); // Tempo da anima√ß√£o de sa√≠da (aumentado para sincronizar com CSS)\n      } else if (this.currentMultiIndex >= this.multiResults.length - 1) {\n        // J√° est√° no √∫ltimo item, n√£o faz nada\n        console.debug('[GachaHome] already at last item');\n      }\n    }\n\n    skipMultiReveal() {\n      // Quando pular, mostra todos os itens de uma vez\n      this.revealedMultiResults = [...this.multiResults];\n      this.currentMultiIndex = this.multiResults.length - 1;\n      console.debug('[GachaHome] skipped to show all', this.multiResults.length, 'items');\n      this.cd.detectChanges();\n    }\n\n  }\n\n  GachaHomeComponent.…µfac = function GachaHomeComponent_Factory(t) {\n    return new (t || GachaHomeComponent)(i0.…µ…µdirectiveInject(i1.AuthService), i0.…µ…µdirectiveInject(i2.BoxService), i0.…µ…µdirectiveInject(i3.ItemService), i0.…µ…µdirectiveInject(i4.TicketService), i0.…µ…µdirectiveInject(i5.Router), i0.…µ…µdirectiveInject(i0.ChangeDetectorRef));\n  };\n\n  GachaHomeComponent.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n    type: GachaHomeComponent,\n    selectors: [[\"app-gacha-home\"]],\n    viewQuery: function GachaHomeComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.…µ…µviewQuery(_c0, 5);\n        i0.…µ…µviewQuery(_c1, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.…µ…µqueryRefresh(_t = i0.…µ…µloadQuery()) && (ctx.multiGrid = _t.first);\n        i0.…µ…µqueryRefresh(_t = i0.…µ…µloadQuery()) && (ctx.openingVideo = _t.first);\n      }\n    },\n    decls: 10,\n    vars: 5,\n    consts: [[1, \"gacha-home-container\"], [\"src\", \"https://i.pinimg.com/originals/c6/a1/c9/c6a1c9f91f82c3fe5af6c5d83cc0bf7e.gif\", \"alt\", \"\", \"aria-hidden\", \"true\", 1, \"bg-gif\"], [\"autoplay\", \"\", \"muted\", \"\", \"loop\", \"\", 1, \"bg-video\"], [\"src\", \"assets/backgrounds/welcome.webm\", \"type\", \"video/webm\"], [\"src\", \"assets/backgrounds/welcome.mp4\", \"type\", \"video/mp4\"], [\"class\", \"notification-toast\", 3, \"success\", \"error\", \"info\", 4, \"ngIf\"], [\"class\", \"loading-container\", 4, \"ngIf\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [\"class\", \"boxes-grid\", 4, \"ngIf\"], [\"class\", \"modal-overlay\", 3, \"click\", 4, \"ngIf\"], [1, \"notification-toast\"], [1, \"bi\"], [1, \"close-btn\", 3, \"click\"], [1, \"bi\", \"bi-x\"], [1, \"loading-container\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"mt-3\"], [1, \"empty-state\"], [1, \"bi\", \"bi-inbox\", 2, \"font-size\", \"5rem\", \"color\", \"#ccc\"], [1, \"text-muted\"], [1, \"boxes-grid\"], [\"class\", \"box-card\", 3, \"normal-box\", \"premium-box\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"box-card\", 3, \"click\"], [1, \"box-image\"], [3, \"src\", \"alt\"], [1, \"box-type-badge\"], [1, \"box-info\"], [1, \"modal-overlay\", 3, \"click\"], [1, \"modal-content\", 3, \"click\"], [\"class\", \"box-result\", 4, \"ngIf\"], [\"class\", \"box-preview\", 4, \"ngIf\"], [1, \"box-result\"], [\"class\", \"result-card\", 3, \"border-color\", 4, \"ngIf\"], [\"class\", \"multi-result\", 4, \"ngIf\"], [1, \"result-card\"], [1, \"rarity-glow\"], [1, \"item-image\", 3, \"src\", \"alt\"], [1, \"rarity-badge\", 3, \"ngClass\"], [1, \"item-stats\"], [1, \"power-stat\"], [1, \"bi\", \"bi-lightning-fill\"], [1, \"btn\", \"btn-success\", \"mt-3\", 3, \"click\"], [1, \"bi\", \"bi-check-circle\"], [1, \"multi-result\"], [\"class\", \"multi-title\", 4, \"ngIf\"], [\"class\", \"multi-subtitle\", 4, \"ngIf\"], [\"class\", \"current-item-display\", 4, \"ngIf\"], [\"class\", \"multi-items-grid\", 4, \"ngIf\"], [\"class\", \"btn btn-success mt-4\", 3, \"click\", 4, \"ngIf\"], [1, \"multi-title\"], [1, \"bi\", \"bi-trophy-fill\"], [1, \"multi-subtitle\"], [1, \"current-item-display\"], [1, \"result-card\", 3, \"ngClass\", \"click\"], [1, \"multi-items-grid\"], [\"multiGrid\", \"\"], [\"class\", \"multi-item-card\", 3, \"border-color\", \"animationDelay\", \"animationFillMode\", 4, \"ngFor\", \"ngForOf\"], [1, \"multi-item-card\"], [1, \"multi-item-image\", 3, \"src\", \"alt\"], [1, \"multi-item-info\"], [3, \"ngClass\"], [1, \"btn\", \"btn-success\", \"mt-4\", 3, \"click\"], [1, \"box-preview\"], [1, \"bi\", \"bi-x-lg\"], [1, \"preview-header\"], [1, \"box-type\"], [1, \"preview-image\"], [1, \"preview-description\"], [1, \"open-options\"], [1, \"option-tabs\"], [1, \"option-tab\", 3, \"click\"], [\"alt\", \"Ticket\", 1, \"ticket-icon-small\", 3, \"src\"], [1, \"ticket-requirement\"], [1, \"bi\", \"bi-ticket-perforated-fill\"], [4, \"ngIf\"], [1, \"btn\", \"btn-outline-info\", \"mb-3\", 3, \"click\"], [\"class\", \"drop-rates-container\", 4, \"ngIf\"], [1, \"btn\", \"btn-lg\", \"btn-primary\", \"open-btn\", 3, \"disabled\", \"click\"], [\"class\", \"loading-text\", 4, \"ngIf\"], [\"class\", \"portal-animation-overlay\", 4, \"ngIf\"], [1, \"drop-rates-container\"], [1, \"mb-3\"], [1, \"bi\", \"bi-percent\"], [1, \"drop-rates-list\"], [\"class\", \"drop-rate-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"drop-rate-item\"], [1, \"drop-item-img\", 3, \"src\", \"alt\"], [1, \"drop-item-info\"], [1, \"drop-item-name\"], [1, \"badge\"], [1, \"drop-rate-percentage\"], [1, \"loading-text\"], [1, \"bi\", \"bi-arrow-repeat\"], [1, \"portal-animation-overlay\"], [1, \"portal-animation-modal\"], [1, \"portal-header\"], [1, \"portal-subtitle\"], [1, \"bi\", \"bi-card-text\"], [1, \"portal-animation-container\"], [1, \"custom-opening-animation\"], [\"autoplay\", \"\", \"muted\", \"\", \"volume\", \"0\", \"playsinline\", \"\", \"preload\", \"metadata\", \"class\", \"opening-video\", 3, \"ended\", \"error\", \"loadedmetadata\", 4, \"ngIf\"], [\"alt\", \"Anima\\u00E7\\u00E3o de abertura\", \"class\", \"opening-gif\", 3, \"src\", \"load\", \"error\", 4, \"ngIf\"], [\"class\", \"animation-fallback\", 4, \"ngIf\"], [1, \"portal-footer\"], [1, \"loading-indicator\"], [1, \"bi\", \"bi-star-fill\", \"text-warning\"], [1, \"loading-message\"], [\"class\", \"btn btn-outline-light btn-sm skip-animation-btn\", 3, \"click\", 4, \"ngIf\"], [\"autoplay\", \"\", \"muted\", \"\", \"volume\", \"0\", \"playsinline\", \"\", \"preload\", \"metadata\", 1, \"opening-video\", 3, \"ended\", \"error\", \"loadedmetadata\"], [\"openingVideo\", \"\"], [\"type\", \"video/mp4\", 3, \"src\"], [\"type\", \"video/webm\", 3, \"src\"], [\"type\", \"video/avi\", 3, \"src\"], [\"alt\", \"Anima\\u00E7\\u00E3o de abertura\", 1, \"opening-gif\", 3, \"src\", \"load\", \"error\"], [1, \"animation-fallback\"], [1, \"fallback-spinner\"], [1, \"bi\", \"bi-stars\", \"text-warning\"], [1, \"fallback-text\"], [1, \"btn\", \"btn-outline-light\", \"btn-sm\", \"skip-animation-btn\", 3, \"click\"], [1, \"bi\", \"bi-skip-forward\"]],\n    template: function GachaHomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.…µ…µelementStart(0, \"div\", 0);\n        i0.…µ…µelement(1, \"img\", 1);\n        i0.…µ…µelementStart(2, \"video\", 2);\n        i0.…µ…µelement(3, \"source\", 3);\n        i0.…µ…µelement(4, \"source\", 4);\n        i0.…µ…µelementEnd();\n        i0.…µ…µtemplate(5, GachaHomeComponent_div_5_Template, 6, 13, \"div\", 5);\n        i0.…µ…µtemplate(6, GachaHomeComponent_div_6_Template, 6, 0, \"div\", 6);\n        i0.…µ…µtemplate(7, GachaHomeComponent_div_7_Template, 8, 0, \"div\", 7);\n        i0.…µ…µtemplate(8, GachaHomeComponent_div_8_Template, 2, 1, \"div\", 8);\n        i0.…µ…µtemplate(9, GachaHomeComponent_div_9_Template, 4, 2, \"div\", 9);\n        i0.…µ…µelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.…µ…µadvance(5);\n        i0.…µ…µproperty(\"ngIf\", ctx.notification.show);\n        i0.…µ…µadvance(1);\n        i0.…µ…µproperty(\"ngIf\", ctx.loading && !ctx.selectedBox);\n        i0.…µ…µadvance(1);\n        i0.…µ…µproperty(\"ngIf\", !ctx.loading && ctx.boxes.length === 0);\n        i0.…µ…µadvance(1);\n        i0.…µ…µproperty(\"ngIf\", !ctx.loading && ctx.boxes.length > 0);\n        i0.…µ…µadvance(1);\n        i0.…µ…µproperty(\"ngIf\", ctx.selectedBox);\n      }\n    },\n    directives: [i6.NgIf, i6.NgForOf, i6.NgClass],\n    styles: [\"@charset \\\"UTF-8\\\";.bg-video[_ngcontent-%COMP%]{position:absolute;inset:0;height:100%;z-index:-1;pointer-events:none;filter:brightness(.7) saturate(.95);object-fit:cover}.bg-gif[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;object-fit:cover;z-index:-2;pointer-events:none;filter:brightness(.75) saturate(.95);opacity:.95;min-width:100%;min-height:100%}.bg-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.55));z-index:2;pointer-events:none}.notification-toast[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;min-width:300px;max-width:500px;padding:1rem 1.5rem;width:100%;display:flex;align-items:center;justify-content:center;margin-bottom:1.5rem;border-radius:15px;overflow:hidden;background:rgba(255,255,255,.03)}.notification-toast[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:auto;max-width:100%;height:auto;max-height:calc(60vh);object-fit:contain}.notification-toast[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.notification-toast[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:0;opacity:.7;transition:opacity .2s}.notification-toast[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{opacity:1}.notification-toast[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.notification-toast.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745 0%,#20c997 100%);color:#fff}.notification-toast.error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545 0%,#ff6b6b 100%);color:#fff}.notification-toast.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#17a2b8 0%,#00d4ff 100%);color:#fff}@keyframes slideIn{0%{transform:translate(400px);opacity:0}to{transform:translate(0);opacity:1}}.gacha-home-container[_ngcontent-%COMP%]{background-size:cover;background-position:center;height:100vh;width:100vw;padding:2rem;position:relative;box-sizing:border-box;overflow-y:auto}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:400px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1.1rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:400px;text-align:center;padding:3rem;background:transparent;border-radius:15px;box-shadow:0 4px 6px #0000001a}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:1rem;color:#fff}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin-top:.5rem}.boxes-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));grid-gap:2rem;gap:2rem;margin-top:2rem}.boxes-grid[_ngcontent-%COMP%]   .box-card[_ngcontent-%COMP%]{position:relative;z-index:1;background:rgba(0,0,0,.8);border-radius:15px;overflow:hidden;box-shadow:0 4px 6px #0000001a;cursor:pointer;transition:all .3s ease}.boxes-grid[_ngcontent-%COMP%]   .box-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 8px 15px #0003}.boxes-grid[_ngcontent-%COMP%]   .box-card.normal-box[_ngcontent-%COMP%]{border:3px solid #757d8c}.boxes-grid[_ngcontent-%COMP%]   .box-card.premium-box[_ngcontent-%COMP%]{border:3px solid #b50000}.boxes-grid[_ngcontent-%COMP%]   .box-card[_ngcontent-%COMP%]   .box-image[_ngcontent-%COMP%]{position:relative;height:172px;overflow:hidden}.boxes-grid[_ngcontent-%COMP%]   .box-card[_ngcontent-%COMP%]   .box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.boxes-grid[_ngcontent-%COMP%]   .box-card[_ngcontent-%COMP%]   .box-image[_ngcontent-%COMP%]   .box-type-badge[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;padding:.5rem 1rem;background:#757d8c;color:#fff;border-radius:20px;font-size:.8rem;font-weight:bold}.boxes-grid[_ngcontent-%COMP%]   .box-card[_ngcontent-%COMP%]   .box-image[_ngcontent-%COMP%]   .box-type-badge.premium[_ngcontent-%COMP%]{background:#b50000}.boxes-grid[_ngcontent-%COMP%]   .box-card[_ngcontent-%COMP%]   .box-info[_ngcontent-%COMP%]{padding:1.5rem}.boxes-grid[_ngcontent-%COMP%]   .box-card[_ngcontent-%COMP%]   .box-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.3rem;color:#fff}.boxes-grid[_ngcontent-%COMP%]   .box-card[_ngcontent-%COMP%]   .box-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:.9rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:2001!important;animation:fadeIn .3s}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:black;border-radius:20px;max-width:800px;width:90%;max-height:90vh;overflow-y:auto;animation:slideUp .3s}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:95%;max-width:95vw;max-height:85vh}}@media (max-width: 480px){.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:98%;max-width:98vw;max-height:80vh;border-radius:15px}}.box-preview[_ngcontent-%COMP%]{padding:2rem;position:relative;zoom:55%}.box-preview[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background:none;border:none;font-size:1.5rem;cursor:pointer;color:#999;transition:color .2s}.box-preview[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.box-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.box-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#fff}.box-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .box-type[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;border-radius:20px;background:#757d8c;color:#fff;font-size:.9rem}.box-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .box-type.premium[_ngcontent-%COMP%]{background:#b50000}.box-preview[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]{width:100%;height:300px;margin-bottom:1.5rem;border-radius:15px;overflow:hidden;zoom:150%}.box-preview[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.box-preview[_ngcontent-%COMP%]   .preview-description[_ngcontent-%COMP%]{text-align:center;color:#fff;margin-bottom:1rem}.box-preview[_ngcontent-%COMP%]   .ticket-requirement[_ngcontent-%COMP%]{text-align:center;padding:1rem;background:#f8f9fa;border-radius:10px;margin-bottom:1.5rem}.box-preview[_ngcontent-%COMP%]   .ticket-requirement[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2rem}.box-preview[_ngcontent-%COMP%]   .open-options[_ngcontent-%COMP%]{margin:1.5rem 0}.box-preview[_ngcontent-%COMP%]   .open-options[_ngcontent-%COMP%]   .option-tabs[_ngcontent-%COMP%]{display:flex;grid-gap:.5rem;gap:.5rem;margin-bottom:1rem}.box-preview[_ngcontent-%COMP%]   .open-options[_ngcontent-%COMP%]   .option-tabs[_ngcontent-%COMP%]   .option-tab[_ngcontent-%COMP%]{flex:1;padding:1rem;border:2px solid #e9ecef;border-radius:12px;background:white;cursor:pointer;transition:all .3s ease;text-align:center}.box-preview[_ngcontent-%COMP%]   .open-options[_ngcontent-%COMP%]   .option-tabs[_ngcontent-%COMP%]   .option-tab[_ngcontent-%COMP%]:hover{border-color:#757d8c;background:#f8f9ff}.box-preview[_ngcontent-%COMP%]   .open-options[_ngcontent-%COMP%]   .option-tabs[_ngcontent-%COMP%]   .option-tab.active[_ngcontent-%COMP%]{border-color:#757d8c;background:#757d8c;color:#fff}.box-preview[_ngcontent-%COMP%]   .open-options[_ngcontent-%COMP%]   .option-tabs[_ngcontent-%COMP%]   .option-tab.active.active[_ngcontent-%COMP%]:hover{background:#686e7a}.box-preview[_ngcontent-%COMP%]   .open-options[_ngcontent-%COMP%]   .option-tabs[_ngcontent-%COMP%]   .option-tab[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;font-size:1.5rem;margin-bottom:.5rem}.box-preview[_ngcontent-%COMP%]   .open-options[_ngcontent-%COMP%]   .option-tabs[_ngcontent-%COMP%]   .option-tab[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.25rem}.box-preview[_ngcontent-%COMP%]   .open-options[_ngcontent-%COMP%]   .option-tabs[_ngcontent-%COMP%]   .option-tab[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;grid-gap:.25rem;gap:.25rem;font-size:.8rem;opacity:.8}.box-preview[_ngcontent-%COMP%]   .open-options[_ngcontent-%COMP%]   .option-tabs[_ngcontent-%COMP%]   .option-tab[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]   .ticket-icon-small[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:contain;flex-shrink:0}.box-preview[_ngcontent-%COMP%]   .open-options[_ngcontent-%COMP%]   .ticket-requirement[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;grid-gap:.5rem;gap:.5rem;padding:.75rem 1rem;background:#828e8c;border-radius:8px;font-weight:500;color:#fff}.box-preview[_ngcontent-%COMP%]   .open-options[_ngcontent-%COMP%]   .ticket-requirement[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.box-preview[_ngcontent-%COMP%]   .open-btn[_ngcontent-%COMP%]{width:100%;padding:1rem;background:#28a745;border:1px solid #28a745}.box-preview[_ngcontent-%COMP%]   .open-btn[_ngcontent-%COMP%]:hover{background:#218838;border-color:#1e7e34}.box-result[_ngcontent-%COMP%]{padding:2rem}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]{text-align:center;padding:2rem;border-radius:18px;position:relative;overflow:hidden;animation:resultAppear .45s;background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);backdrop-filter:blur(8px) saturate(1.05);box-shadow:0 12px 40px #0009,0 0 28px #8a2be214}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .rarity-glow[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:140%;height:140%;filter:blur(48px);opacity:.28;z-index:0;border-radius:12px}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{position:relative;z-index:1;width:260px;height:260px;object-fit:contain;object-position:center;margin:0 auto 1rem;display:block;animation:itemFloat 2s ease-in-out infinite;background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.02));border-radius:16px;padding:1rem;box-shadow:0 6px 18px #00000073}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;z-index:1;margin-bottom:.75rem;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,.6)}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .rarity-badge[_ngcontent-%COMP%]{position:relative;z-index:1;display:inline-block;padding:.5rem 1.5rem;border-radius:20px;font-weight:bold;margin-bottom:1rem;color:#111;background:rgba(255,255,255,.95);box-shadow:0 6px 16px #0000002e}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{position:relative;z-index:1;color:#666;margin-bottom:1rem}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .rarity-level-result[_ngcontent-%COMP%]{position:relative;z-index:1;margin:1.5rem 0;padding:1rem;background:linear-gradient(135deg,rgba(255,215,0,.1),rgba(255,140,0,.1));border-radius:12px;border:2px solid rgba(255,215,0,.3)}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .rarity-level-result[_ngcontent-%COMP%]   .level-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:bold;color:#ff8c00;letter-spacing:1px;margin-bottom:.5rem}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .rarity-level-result[_ngcontent-%COMP%]   .level-value[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:bold;background:linear-gradient(135deg,#ffd700,#ff8c00);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.75rem;animation:pulse 2s ease-in-out infinite}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .rarity-level-result[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:rgba(255,215,0,.2);border-radius:4px;overflow:hidden;position:relative}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .rarity-level-result[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]   .level-bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#ffd700,#ff8c00);border-radius:4px;transition:width .5s ease;box-shadow:0 0 10px #ffd70099}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]{position:relative;z-index:1}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .power-stat[_ngcontent-%COMP%]{display:inline-flex;align-items:center;grid-gap:.5rem;gap:.5rem;padding:.75rem 1.5rem;background:#f8f9fa;border-radius:25px;font-weight:bold}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .item-stats[_ngcontent-%COMP%]   .power-stat[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffd54f}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;z-index:1}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]{text-align:center;padding:2rem}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-title[_ngcontent-%COMP%]{color:#fff;margin-bottom:.5rem;font-size:1.8rem;text-shadow:0 1px 4px rgba(0,0,0,.6)}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffd54f;margin-right:.5rem}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-subtitle[_ngcontent-%COMP%]{color:#fff;margin-bottom:2rem;font-size:1.1rem;text-align:center;display:flex;flex-direction:column;align-items:center;grid-gap:.5rem;gap:.5rem}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-subtitle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffd54f;margin-right:.5rem}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-subtitle[_ngcontent-%COMP%]   .click-hint[_ngcontent-%COMP%]{display:block;font-size:.95rem;color:#ffd54f;font-style:italic;margin-top:.5rem;opacity:.9;animation:pulse 2s ease-in-out infinite;text-shadow:0 0 10px rgba(255,213,79,.5)}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-subtitle[_ngcontent-%COMP%]   .click-hint[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:bounce 1s ease-in-out infinite}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:1rem;gap:1rem;margin-bottom:2rem;max-height:calc(60vh);overflow-y:auto;align-content:start;padding:1rem;justify-items:center;-webkit-overflow-scrolling:touch}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]{padding:1.5rem;border:3px solid;border-radius:16px;position:relative;overflow:hidden;background:rgba(255,255,255,.95);backdrop-filter:blur(10px);box-shadow:0 8px 32px #0000001a;transition:transform .18s ease,box-shadow .18s ease;min-height:320px;max-width:280px;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;transform:translateY(12px) scale(.99);animation:multiItemIn .48s cubic-bezier(.2,.9,.3,1) both}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1)}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]   .rarity-glow[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:140%;height:140%;filter:blur(50px);opacity:.15;z-index:0;border-radius:50%}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]   .multi-item-image[_ngcontent-%COMP%]{position:relative;z-index:1;width:100%;max-width:180px;height:180px;object-fit:contain;object-position:center;margin-bottom:1rem;background:rgba(255,255,255,.1);border-radius:12px;padding:.8rem;transform-origin:center;animation:multiImagePop .36s cubic-bezier(.2,.9,.25,1) both;animation-delay:inherit;box-shadow:0 4px 16px #0000001a}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]   .multi-item-info[_ngcontent-%COMP%]{position:relative;z-index:1;text-align:center;width:100%}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]   .multi-item-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.1rem;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.1);line-height:1.3}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]   .multi-item-info[_ngcontent-%COMP%]   .rarity-badge[_ngcontent-%COMP%]{display:inline-block;padding:.4rem 1rem;border-radius:20px;font-size:.8rem;font-weight:bold;margin-bottom:.75rem;box-shadow:0 2px 8px #00000026;text-transform:uppercase;letter-spacing:.5px}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]   .multi-item-info[_ngcontent-%COMP%]   .power-stat[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;grid-gap:.4rem;gap:.4rem;font-size:.9rem;color:#555;font-weight:600}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]   .multi-item-info[_ngcontent-%COMP%]   .power-stat[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffd54f;filter:drop-shadow(0 1px 2px rgba(0,0,0,.2))}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card.clickable[_ngcontent-%COMP%]{cursor:pointer}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card.clickable[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 12px 40px #0003}@keyframes multiItemIn{0%{opacity:0;transform:translateY(18px) scale(.985)}60%{opacity:1;transform:translateY(-6px) scale(1.02)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes multiImagePop{0%{transform:scale(.92)}60%{transform:scale(1.04)}to{transform:scale(1)}}@keyframes fadeOut{0%{opacity:1;transform:scale(1) translateY(0);filter:blur(0px)}to{opacity:0;transform:scale(.95) translateY(-10px);filter:blur(2px)}}@keyframes fadeIn{0%{opacity:0;transform:scale(.95) translateY(10px);filter:blur(2px)}50%{opacity:.7;transform:scale(1.02) translateY(-2px);filter:blur(1px)}to{opacity:1;transform:scale(1) translateY(0);filter:blur(0px)}}@keyframes mysteryGlow{0%{box-shadow:0 0 20px #ffffff1a;filter:brightness(1)}50%{box-shadow:0 0 40px #ffd7004d,0 0 80px #ffd7001a;filter:brightness(1.1)}to{box-shadow:0 0 20px #ffffff1a;filter:brightness(1)}}@keyframes bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-3px)}60%{transform:translateY(-2px)}}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .fade-out[_ngcontent-%COMP%]{animation:fadeOut .3s ease-out forwards}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .fade-in[_ngcontent-%COMP%]{animation:fadeIn .6s ease-out forwards;animation-fill-mode:both}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .mystery-reveal[_ngcontent-%COMP%]{animation:mysteryGlow 2s ease-in-out infinite}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(0,0,0,.2);border-radius:8px}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.2) transparent}@media (prefers-reduced-motion: reduce){.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]{animation:none!important;opacity:1!important;transform:none!important}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .fade-out[_ngcontent-%COMP%], .box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .fade-in[_ngcontent-%COMP%], .box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .mystery-reveal[_ngcontent-%COMP%]{animation:none!important}}@media (max-width: 768px){.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]{padding:.5rem;max-height:calc(50vh)}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]{padding:1rem;min-height:280px;max-width:240px}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]   .multi-item-image[_ngcontent-%COMP%]{max-width:140px;height:140px;padding:.6rem}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]   .multi-item-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]   .rarity-badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.3rem .8rem}}@media (max-width: 480px){.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]{padding:.25rem;max-height:calc(45vh)}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]{padding:.75rem;min-height:240px;max-width:200px}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]   .multi-item-image[_ngcontent-%COMP%]{max-width:120px;height:120px;padding:.4rem}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]   .multi-item-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]   .rarity-badge[_ngcontent-%COMP%]{font-size:.65rem;padding:.25rem .6rem}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-items-grid[_ngcontent-%COMP%]   .multi-item-card[_ngcontent-%COMP%]   .power-stat[_ngcontent-%COMP%]{font-size:.8rem}}.box-result[_ngcontent-%COMP%]   .multi-result[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;z-index:1}.rarity-comum[_ngcontent-%COMP%]{background:#9e9e9e;color:#fff}.rarity-raro[_ngcontent-%COMP%]{background:#4fc3f7;color:#fff}.rarity-epico[_ngcontent-%COMP%]{background:#ba68c8;color:#fff}.rarity-lendario[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd54f 0%,#ff6f00 100%);color:#fff}.rarity-mitico[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6f00 0%,#d32f2f 100%);color:#fff;animation:rainbow 3s linear infinite}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes resultAppear{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes itemFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes rainbow{0%{filter:hue-rotate(0deg)}to{filter:hue-rotate(360deg)}}.drop-rates-container[_ngcontent-%COMP%]{background:transparent;border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;max-height:400px;overflow-y:auto}.drop-rates-container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600;text-align:center;margin-bottom:1rem}.drop-rates-container[_ngcontent-%COMP%]   .drop-rates-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:.75rem;gap:.75rem}.drop-rates-container[_ngcontent-%COMP%]   .drop-rates-list[_ngcontent-%COMP%]   .drop-rate-item[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:1rem;gap:1rem;background:rgba(255,255,255,.8);border-radius:8px;padding:.75rem;box-shadow:0 2px 4px #0000001a;transition:transform .2s,box-shadow .2s}.drop-rates-container[_ngcontent-%COMP%]   .drop-rates-list[_ngcontent-%COMP%]   .drop-rate-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.drop-rates-container[_ngcontent-%COMP%]   .drop-rates-list[_ngcontent-%COMP%]   .drop-rate-item[_ngcontent-%COMP%]   .drop-item-img[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:contain;object-position:center;background:#f8f9fa;border-radius:8px;border:2px solid #e0e0e0;padding:.25rem}.drop-rates-container[_ngcontent-%COMP%]   .drop-rates-list[_ngcontent-%COMP%]   .drop-rate-item[_ngcontent-%COMP%]   .drop-item-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;grid-gap:.25rem;gap:.25rem}.drop-rates-container[_ngcontent-%COMP%]   .drop-rates-list[_ngcontent-%COMP%]   .drop-rate-item[_ngcontent-%COMP%]   .drop-item-info[_ngcontent-%COMP%]   .drop-item-name[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem}.drop-rates-container[_ngcontent-%COMP%]   .drop-rates-list[_ngcontent-%COMP%]   .drop-rate-item[_ngcontent-%COMP%]   .drop-item-info[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-size:.7rem}.drop-rates-container[_ngcontent-%COMP%]   .drop-rates-list[_ngcontent-%COMP%]   .drop-rate-item[_ngcontent-%COMP%]   .drop-rate-percentage[_ngcontent-%COMP%]{font-weight:bold;font-size:1.1rem;color:#2c3e50;padding:.5rem 1rem;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border-radius:20px;min-width:70px;text-align:center}@media (max-width: 768px){.gacha-home-container[_ngcontent-%COMP%]{padding:1rem}.boxes-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:1rem;gap:1rem}.tickets-header[_ngcontent-%COMP%]{flex-direction:column;grid-gap:1rem;gap:1rem}.modal-content[_ngcontent-%COMP%]{width:95%}.box-result[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{width:150px;height:150px}}@keyframes pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.9}}.loading-text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}.loading-text[_ngcontent-%COMP%]   app-loading[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{min-height:auto;padding:0;background:transparent}.loading-text[_ngcontent-%COMP%]   app-loading[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-animation[_ngcontent-%COMP%]   .box-opening[_ngcontent-%COMP%]{width:60px;height:60px}.loading-text[_ngcontent-%COMP%]   app-loading[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-animation[_ngcontent-%COMP%]   .box-opening[_ngcontent-%COMP%]   .question-mark[_ngcontent-%COMP%]{font-size:1.5rem}.loading-text[_ngcontent-%COMP%]   app-loading[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-animation[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:120px;height:4px}.loading-text[_ngcontent-%COMP%]   app-loading[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-animation[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.25rem}.loading-text[_ngcontent-%COMP%]   app-loading[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-animation[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]   .loading-subtitle[_ngcontent-%COMP%]{font-size:.7rem}.loading-card-container[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;animation:fadeInUp .5s ease-out}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.loading-card-container[_ngcontent-%COMP%]   app-gacha-animation[_ngcontent-%COMP%]   .gacha-animation[_ngcontent-%COMP%]{width:250px;height:250px}@media (max-width: 768px){.loading-card-container[_ngcontent-%COMP%]   app-gacha-animation[_ngcontent-%COMP%]   .gacha-animation[_ngcontent-%COMP%]{width:200px;height:200px}}@media (max-width: 480px){.loading-card-container[_ngcontent-%COMP%]   app-gacha-animation[_ngcontent-%COMP%]   .gacha-animation[_ngcontent-%COMP%]{width:180px;height:180px}}.portal-animation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:2005!important;backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:9999;animation:overlayFadeIn .8s ease-out}@keyframes overlayFadeIn{0%{opacity:0;backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(8px)}}.skip-animation-btn[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;background:rgba(255,255,255,.95);border:2px solid #ffd54f;border-radius:25px;color:#333;padding:8px 16px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .3s ease;z-index:10020;display:flex;align-items:center;grid-gap:6px;gap:6px;box-shadow:0 4px 12px #0000004d;backdrop-filter:blur(10px)}.skip-animation-btn[_ngcontent-%COMP%]:hover{background:#ffd54f;border-color:#ffca28;transform:translateY(-2px);box-shadow:0 6px 16px #0006}.skip-animation-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 8px #0000004d}.skip-animation-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}@media (max-width: 768px){.skip-animation-btn[_ngcontent-%COMP%]{top:15px;right:15px;padding:6px 12px;font-size:.8rem}.skip-animation-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 480px){.skip-animation-btn[_ngcontent-%COMP%]{top:10px;right:10px;padding:5px 10px;font-size:.75rem}.skip-animation-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}}.portal-animation-modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a2e 0%,#16213e 50%,#0f3460 100%);border-radius:20px;padding:2.5rem;max-width:1440px;width:95%;box-shadow:0 24px 48px #0000008c,0 0 80px #8a2be259,inset 0 1px #ffffff14;border:1px solid rgba(138,43,226,.28);animation:modalSlideIn .9s ease-out;overflow:visible}@keyframes modalSlideIn{0%{opacity:0;transform:scale(.92) translateY(24px)}to{opacity:1;transform:scale(1) translateY(0)}}@media (max-width: 1200px){.portal-animation-modal[_ngcontent-%COMP%]{max-width:760px;padding:2rem;width:100%}}@media (max-width: 960px){.portal-animation-modal[_ngcontent-%COMP%]{max-width:100%;padding:1.5rem}}@media (min-width: 961px) and (max-width: 1280px){.portal-animation-modal[_ngcontent-%COMP%]{max-width:1100px;padding:2rem;width:95%;border-radius:18px}}@media (max-width: 960px){.portal-animation-modal[_ngcontent-%COMP%]{max-width:98%;padding:1rem}}.portal-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;position:relative;z-index:10005}.portal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;font-weight:700;margin-bottom:.5rem;text-shadow:0 0 20px rgba(138,43,226,.5);animation:titleGlow 2s ease-in-out infinite alternate}@keyframes titleGlow{0%{text-shadow:0 0 20px rgba(138,43,226,.5)}to{text-shadow:0 0 30px rgba(138,43,226,.8),0 0 40px rgba(138,43,226,.4)}}@media (max-width: 480px){.portal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem}}.portal-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;grid-gap:.5rem;gap:.5rem;color:#b794f6;font-size:1.1rem;font-weight:500;position:relative;z-index:10005}.portal-subtitle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;animation:magicSparkle 1.5s ease-in-out infinite}.portal-subtitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(45deg,#b794f6,#9f7aea);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}@keyframes magicSparkle{0%,to{transform:scale(1);opacity:.8}50%{transform:scale(1.2);opacity:1}}.portal-animation-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:2rem 0;min-height:600px;overflow:visible}@media (max-width: 1280px){.portal-animation-container[_ngcontent-%COMP%]{margin:1.5rem 0}}@media (max-width: 960px){.portal-animation-container[_ngcontent-%COMP%]{margin:1rem 0}}.portal-animation-container[_ngcontent-%COMP%]   .custom-opening-animation[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;max-width:1000px;margin:0 auto;overflow:visible}.portal-animation-container[_ngcontent-%COMP%]   .custom-opening-animation[_ngcontent-%COMP%]   .opening-video[_ngcontent-%COMP%], .portal-animation-container[_ngcontent-%COMP%]   .custom-opening-animation[_ngcontent-%COMP%]   .opening-gif[_ngcontent-%COMP%]{min-width:100vw;min-height:100vh;width:auto;height:auto;object-fit:cover;object-position:center center;border-radius:0;box-shadow:none;display:block;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:10000;pointer-events:none}@media (max-width: 900px){.portal-animation-container[_ngcontent-%COMP%]   .custom-opening-animation[_ngcontent-%COMP%]   .opening-video[_ngcontent-%COMP%], .portal-animation-container[_ngcontent-%COMP%]   .custom-opening-animation[_ngcontent-%COMP%]   .opening-gif[_ngcontent-%COMP%]{object-fit:cover}}@media (max-width: 480px){.portal-animation-container[_ngcontent-%COMP%]   .custom-opening-animation[_ngcontent-%COMP%]   .opening-video[_ngcontent-%COMP%], .portal-animation-container[_ngcontent-%COMP%]   .custom-opening-animation[_ngcontent-%COMP%]   .opening-gif[_ngcontent-%COMP%]{object-fit:cover}}.portal-animation-container[_ngcontent-%COMP%]   .animation-fallback[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:400px;background:linear-gradient(135deg,rgba(255,255,255,.1),rgba(0,0,0,.3));border-radius:12px;border:2px solid rgba(255,215,0,.3)}.portal-animation-container[_ngcontent-%COMP%]   .animation-fallback[_ngcontent-%COMP%]   .fallback-spinner[_ngcontent-%COMP%]{text-align:center;animation:pulse 2s infinite}.portal-animation-container[_ngcontent-%COMP%]   .animation-fallback[_ngcontent-%COMP%]   .fallback-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;display:block;margin-bottom:1rem;filter:drop-shadow(0 0 10px rgba(255,215,0,.5))}.portal-animation-container[_ngcontent-%COMP%]   .animation-fallback[_ngcontent-%COMP%]   .fallback-spinner[_ngcontent-%COMP%]   .fallback-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:gold;text-shadow:0 0 10px rgba(255,215,0,.5)}.portal-footer[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;position:relative;z-index:10005}.loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;grid-gap:1rem;gap:1rem;color:#e2e8f0;font-size:1rem}.loading-indicator[_ngcontent-%COMP%]   .loading-message[_ngcontent-%COMP%]{animation:pulse 1.5s ease-in-out infinite}@keyframes pulse{0%,to{opacity:.7}50%{opacity:1}}@keyframes itemExit{0%{transform:scale(1) translateY(0);opacity:1;filter:blur(0px) brightness(1)}50%{transform:scale(1.05) translateY(-5px);opacity:.7;filter:blur(.5px) brightness(1.1)}to{transform:scale(.95) translateY(-10px);opacity:0;filter:blur(1px) brightness(.9)}}@keyframes itemEnter{0%{transform:scale(.9) translateY(15px);opacity:0;filter:blur(2px) brightness(.8)}40%{transform:scale(1.02) translateY(-2px);opacity:.8;filter:blur(.5px) brightness(1.1)}to{transform:scale(1) translateY(0);opacity:1;filter:blur(0px) brightness(1)}}@keyframes sparkleEffect{0%,to{transform:scale(1);opacity:.8}50%{transform:scale(1.1);opacity:1}}@keyframes magicBurst{0%{transform:scale(.8);opacity:0}50%{transform:scale(1.3);opacity:.9}to{transform:scale(1);opacity:1}}.item-exiting[_ngcontent-%COMP%]{animation:itemExit .5s ease-in forwards;pointer-events:none;z-index:1}.item-entering[_ngcontent-%COMP%]{animation:itemEnter .6s ease-out forwards;animation-delay:.1s;z-index:2;border-color:var(--rarity-color)!important;box-shadow:0 0 15px var(--rarity-glow)!important}.item-entering[_ngcontent-%COMP%]   .rarity-glow[_ngcontent-%COMP%]{background:rgba(108,117,125,.1)!important;opacity:.3!important}.item-entering[_ngcontent-%COMP%]   .rarity-badge[_ngcontent-%COMP%]{filter:grayscale(100%) brightness(.7)!important;opacity:.7!important}.item-entering[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{filter:grayscale(100%) brightness(.7)!important;opacity:.7!important}.item-transitioning[_ngcontent-%COMP%]   .rarity-glow[_ngcontent-%COMP%]{animation:sparkleEffect .3s ease-in-out infinite}.item-transitioning[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{animation:magicBurst .5s ease-out}.first-item[_ngcontent-%COMP%]{animation:cardFadeIn 1s ease-out}@keyframes cardReveal{0%{border-color:#6c757d;box-shadow:0 0 15px #6c757d33}30%{border-color:#6c757d;box-shadow:0 0 20px #6c757d4d}60%{border-color:#6c757d;box-shadow:0 0 25px #6c757d66}to{border-color:var(--rarity-color);box-shadow:0 0 35px var(--rarity-glow)}}@keyframes glowReveal{0%{background:radial-gradient(circle,rgba(108,117,125,.1) 0%,transparent 70%);opacity:.3}30%{background:radial-gradient(circle,rgba(108,117,125,.2) 0%,transparent 70%);opacity:.5}60%{background:radial-gradient(circle,rgba(108,117,125,.3) 0%,transparent 70%);opacity:.7}to{background:var(--rarity-glow);opacity:1}}@keyframes badgeReveal{0%{filter:grayscale(100%) brightness(.7);transform:scale(.9);opacity:.7}50%{filter:grayscale(50%) brightness(.8);transform:scale(1.05);opacity:.9}to{filter:grayscale(0%) brightness(1);transform:scale(1);opacity:1}}.mysterious-card[_ngcontent-%COMP%]{transform:scale(1)!important;border-color:var(--rarity-color)!important;box-shadow:0 0 15px var(--rarity-glow)!important;animation:none!important}.mysterious-card[_ngcontent-%COMP%]   .rarity-glow[_ngcontent-%COMP%]{background:rgba(108,117,125,.1)!important;opacity:.3}.mysterious-card[_ngcontent-%COMP%]   .rarity-badge[_ngcontent-%COMP%]{filter:grayscale(100%) brightness(.7);opacity:.7}.mysterious-card[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{filter:grayscale(100%) brightness(.7);opacity:.7}.card-revealing[_ngcontent-%COMP%]{animation:cardReveal 1.5s ease-out forwards!important;animation-delay:.7s;z-index:3}.card-revealing[_ngcontent-%COMP%]   .rarity-glow[_ngcontent-%COMP%]{animation:glowReveal 1.5s ease-out forwards!important;animation-delay:.7s}.card-revealing[_ngcontent-%COMP%]   .rarity-badge[_ngcontent-%COMP%]{animation:badgeReveal 1.5s ease-out forwards!important;animation-delay:.7s}.card-revealing[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{animation:badgeReveal 1.5s ease-out forwards!important;animation-delay:.7s}@keyframes cardFadeIn{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.result-card[_ngcontent-%COMP%]{animation:cardFadeIn .8s ease-out}.multi-item-card[_ngcontent-%COMP%]{opacity:0;animation:cardFadeIn .6s ease-out forwards}\"]\n  });\n  return GachaHomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}