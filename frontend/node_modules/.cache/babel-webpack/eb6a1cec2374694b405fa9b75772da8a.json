{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/olimp/OneDrive/Documentos/estagio/Estagio-etapa-3/GachArena/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { getFirestore, collection, doc, getDoc, getDocs, query, where, deleteDoc, updateDoc, addDoc } from 'firebase/firestore';\nimport * as i0 from \"@angular/core\";\nexport let BoxService = /*#__PURE__*/(() => {\n  class BoxService {\n    constructor() {\n      this.db = getFirestore();\n    }\n\n    createBox(box) {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        const boxData = Object.assign(Object.assign({}, box), {\n          createdAt: new Date()\n        });\n        const docRef = yield addDoc(collection(_this.db, 'boxes'), boxData);\n        return docRef.id;\n      })();\n    }\n\n    getActiveBoxes() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        const q = query(collection(_this2.db, 'boxes'), where('active', '==', true));\n        const querySnapshot = yield getDocs(q);\n        return querySnapshot.docs.map(doc => Object.assign({\n          id: doc.id\n        }, doc.data()));\n      })();\n    }\n\n    getBoxesByType(type) {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        const q = query(collection(_this3.db, 'boxes'), where('active', '==', true), where('type', '==', type));\n        const querySnapshot = yield getDocs(q);\n        return querySnapshot.docs.map(doc => Object.assign({\n          id: doc.id\n        }, doc.data()));\n      })();\n    }\n\n    getAllBoxes() {\n      var _this4 = this;\n\n      return _asyncToGenerator(function* () {\n        const querySnapshot = yield getDocs(collection(_this4.db, 'boxes'));\n        return querySnapshot.docs.map(doc => Object.assign({\n          id: doc.id\n        }, doc.data()));\n      })();\n    }\n\n    getBoxById(boxId) {\n      var _this5 = this;\n\n      return _asyncToGenerator(function* () {\n        const docRef = doc(_this5.db, 'boxes', boxId);\n        const docSnap = yield getDoc(docRef);\n\n        if (docSnap.exists()) {\n          return Object.assign({\n            id: docSnap.id\n          }, docSnap.data());\n        }\n\n        return null;\n      })();\n    }\n\n    updateBox(boxId, data) {\n      var _this6 = this;\n\n      return _asyncToGenerator(function* () {\n        const docRef = doc(_this6.db, 'boxes', boxId);\n        yield updateDoc(docRef, data);\n      })();\n    }\n\n    deleteBox(boxId) {\n      var _this7 = this;\n\n      return _asyncToGenerator(function* () {\n        const docRef = doc(_this7.db, 'boxes', boxId);\n        yield deleteDoc(docRef);\n      })();\n    }\n\n  }\n\n  BoxService.ɵfac = function BoxService_Factory(t) {\n    return new (t || BoxService)();\n  };\n\n  BoxService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: BoxService,\n    factory: BoxService.ɵfac,\n    providedIn: 'root'\n  });\n  return BoxService;\n})();","map":null,"metadata":{},"sourceType":"module"}