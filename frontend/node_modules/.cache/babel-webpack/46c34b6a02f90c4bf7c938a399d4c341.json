{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/olimp/OneDrive/Documentos/estagio/Estagio-etapa-3/GachArena/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { getFirestore, collection, doc, getDoc, getDocs, query, where, deleteDoc, updateDoc, addDoc } from 'firebase/firestore';\nimport * as i0 from \"@angular/core\";\nexport class BoxService {\n  constructor() {\n    this.db = getFirestore();\n  }\n\n  createBox(box) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const boxData = Object.assign(Object.assign({}, box), {\n        createdAt: new Date()\n      });\n      const docRef = yield addDoc(collection(_this.db, 'boxes'), boxData);\n      return docRef.id;\n    })();\n  }\n\n  getActiveBoxes() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const q = query(collection(_this2.db, 'boxes'), where('active', '==', true));\n      const querySnapshot = yield getDocs(q);\n      return querySnapshot.docs.map(doc => Object.assign({\n        id: doc.id\n      }, doc.data()));\n    })();\n  }\n\n  getBoxesByType(type) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      const q = query(collection(_this3.db, 'boxes'), where('active', '==', true), where('type', '==', type));\n      const querySnapshot = yield getDocs(q);\n      return querySnapshot.docs.map(doc => Object.assign({\n        id: doc.id\n      }, doc.data()));\n    })();\n  }\n\n  getAllBoxes() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      const querySnapshot = yield getDocs(collection(_this4.db, 'boxes'));\n      return querySnapshot.docs.map(doc => Object.assign({\n        id: doc.id\n      }, doc.data()));\n    })();\n  }\n\n  getBoxById(boxId) {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      const docRef = doc(_this5.db, 'boxes', boxId);\n      const docSnap = yield getDoc(docRef);\n\n      if (docSnap.exists()) {\n        return Object.assign({\n          id: docSnap.id\n        }, docSnap.data());\n      }\n\n      return null;\n    })();\n  }\n\n  updateBox(boxId, data) {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      const docRef = doc(_this6.db, 'boxes', boxId);\n      yield updateDoc(docRef, data);\n    })();\n  }\n\n  deleteBox(boxId) {\n    var _this7 = this;\n\n    return _asyncToGenerator(function* () {\n      const docRef = doc(_this7.db, 'boxes', boxId);\n      yield deleteDoc(docRef);\n    })();\n  }\n\n}\n\nBoxService.ɵfac = function BoxService_Factory(t) {\n  return new (t || BoxService)();\n};\n\nBoxService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: BoxService,\n  factory: BoxService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:/Users/olimp/OneDrive/Documentos/estagio/Estagio-etapa-3/GachArena/frontend/src/app/services/box.service.ts"],"names":["getFirestore","collection","doc","getDoc","getDocs","query","where","deleteDoc","updateDoc","addDoc","i0","BoxService","constructor","db","createBox","box","boxData","Object","assign","createdAt","Date","docRef","id","getActiveBoxes","q","querySnapshot","docs","map","data","getBoxesByType","type","getAllBoxes","getBoxById","boxId","docSnap","exists","updateBox","deleteBox","ɵfac","BoxService_Factory","t","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"mappings":"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","sourcesContent":["import { getFirestore, collection, doc, getDoc, getDocs, query, where, deleteDoc, updateDoc, addDoc } from 'firebase/firestore';\r\nimport * as i0 from \"@angular/core\";\r\nexport class BoxService {\r\n    constructor() {\r\n        this.db = getFirestore();\r\n    }\r\n    async createBox(box) {\r\n        const boxData = Object.assign(Object.assign({}, box), { createdAt: new Date() });\r\n        const docRef = await addDoc(collection(this.db, 'boxes'), boxData);\r\n        return docRef.id;\r\n    }\r\n    async getActiveBoxes() {\r\n        const q = query(collection(this.db, 'boxes'), where('active', '==', true));\r\n        const querySnapshot = await getDocs(q);\r\n        return querySnapshot.docs.map(doc => (Object.assign({ id: doc.id }, doc.data())));\r\n    }\r\n    async getBoxesByType(type) {\r\n        const q = query(collection(this.db, 'boxes'), where('active', '==', true), where('type', '==', type));\r\n        const querySnapshot = await getDocs(q);\r\n        return querySnapshot.docs.map(doc => (Object.assign({ id: doc.id }, doc.data())));\r\n    }\r\n    async getAllBoxes() {\r\n        const querySnapshot = await getDocs(collection(this.db, 'boxes'));\r\n        return querySnapshot.docs.map(doc => (Object.assign({ id: doc.id }, doc.data())));\r\n    }\r\n    async getBoxById(boxId) {\r\n        const docRef = doc(this.db, 'boxes', boxId);\r\n        const docSnap = await getDoc(docRef);\r\n        if (docSnap.exists()) {\r\n            return Object.assign({ id: docSnap.id }, docSnap.data());\r\n        }\r\n        return null;\r\n    }\r\n    async updateBox(boxId, data) {\r\n        const docRef = doc(this.db, 'boxes', boxId);\r\n        await updateDoc(docRef, data);\r\n    }\r\n    async deleteBox(boxId) {\r\n        const docRef = doc(this.db, 'boxes', boxId);\r\n        await deleteDoc(docRef);\r\n    }\r\n}\r\nBoxService.ɵfac = function BoxService_Factory(t) { return new (t || BoxService)(); };\r\nBoxService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: BoxService, factory: BoxService.ɵfac, providedIn: 'root' });\r\n"]},"metadata":{},"sourceType":"module"}