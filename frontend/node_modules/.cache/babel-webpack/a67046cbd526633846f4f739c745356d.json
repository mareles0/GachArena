{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/olimp/OneDrive/Documentos/estagio/Estagio-etapa-3/GachArena/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/box.service\";\nimport * as i2 from \"src/app/services/item.service\";\nimport * as i3 from \"src/app/services/storage.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\n\nfunction ManageItemsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵelement(1, \"i\", 46);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function ManageItemsComponent_div_5_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.notification.show = false;\n    });\n    i0.ɵɵelement(5, \"i\", 48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"success\", ctx_r0.notification.type === \"success\")(\"error\", ctx_r0.notification.type === \"error\")(\"info\", ctx_r0.notification.type === \"info\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"bi-check-circle-fill\", ctx_r0.notification.type === \"success\")(\"bi-x-circle-fill\", ctx_r0.notification.type === \"error\")(\"bi-info-circle-fill\", ctx_r0.notification.type === \"info\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.notification.message);\n  }\n}\n\nfunction ManageItemsComponent_button_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 49);\n    i0.ɵɵlistener(\"click\", function ManageItemsComponent_button_16_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const box_r10 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.selectBox(box_r10);\n    });\n    i0.ɵɵelementStart(1, \"div\", 50);\n    i0.ɵɵelement(2, \"img\", 51);\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵelementStart(4, \"strong\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementStart(7, \"small\", 37);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const box_r10 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", (ctx_r1.selectedBox == null ? null : ctx_r1.selectedBox.id) === box_r10.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", box_r10.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", box_r10.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(box_r10.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(box_r10.theme);\n  }\n}\n\nfunction ManageItemsComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 52);\n    i0.ɵɵelement(1, \"i\", 53);\n    i0.ɵɵtext(2, \" Selecione uma caixa para ver seus itens \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ManageItemsComponent_div_19_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 60);\n    i0.ɵɵelement(1, \"div\", 61);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ManageItemsComponent_div_19_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 62);\n    i0.ɵɵtext(1, \" Nenhum item nesta caixa. Clique em \\\"Novo Item\\\" para adicionar. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ManageItemsComponent_div_19_div_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 64);\n    i0.ɵɵelementStart(1, \"div\", 65);\n    i0.ɵɵelement(2, \"img\", 66);\n    i0.ɵɵelementStart(3, \"div\", 67);\n    i0.ɵɵelementStart(4, \"h5\", 68);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementStart(6, \"span\", 69);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 70);\n    i0.ɵɵelementStart(9, \"div\", 71);\n    i0.ɵɵelementStart(10, \"span\", 72);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 73);\n    i0.ɵɵelementStart(13, \"button\", 74);\n    i0.ɵɵlistener(\"click\", function ManageItemsComponent_div_19_div_9_div_1_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const item_r17 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext(3);\n      return ctx_r18.openEditForm(item_r17);\n    });\n    i0.ɵɵelement(14, \"i\", 75);\n    i0.ɵɵtext(15, \" Editar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 76);\n    i0.ɵɵlistener(\"click\", function ManageItemsComponent_div_19_div_9_div_1_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const item_r17 = restoredCtx.$implicit;\n      const ctx_r20 = i0.ɵɵnextContext(3);\n      return ctx_r20.deleteItem(item_r17);\n    });\n    i0.ɵɵelement(17, \"i\", 77);\n    i0.ɵɵtext(18, \" Deletar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r17 = ctx.$implicit;\n    const ctx_r16 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"border-color\", ctx_r16.getRarityColor(item_r17.rarity));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", item_r17.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", item_r17.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(ctx_r16.getRarityClass(item_r17.rarity));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r17.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r17.power);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(ctx_r16.getRarityClass(item_r17.rarity));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r17.rarity, \" \");\n  }\n}\n\nfunction ManageItemsComponent_div_19_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtemplate(1, ManageItemsComponent_div_19_div_9_div_1_Template, 19, 11, \"div\", 63);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r15.items);\n  }\n}\n\nfunction ManageItemsComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 54);\n    i0.ɵɵelementStart(2, \"h4\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function ManageItemsComponent_div_19_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.openCreateForm();\n    });\n    i0.ɵɵelement(5, \"i\", 56);\n    i0.ɵɵtext(6, \" Novo Item \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, ManageItemsComponent_div_19_div_7_Template, 2, 0, \"div\", 57);\n    i0.ɵɵtemplate(8, ManageItemsComponent_div_19_div_8_Template, 2, 0, \"div\", 58);\n    i0.ɵɵtemplate(9, ManageItemsComponent_div_19_div_9_Template, 2, 1, \"div\", 59);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Itens de \", ctx_r3.selectedBox.name, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.loading && ctx_r3.items.length === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.loading && ctx_r3.items.length > 0);\n  }\n}\n\nfunction ManageItemsComponent_div_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵelementStart(1, \"label\", 26);\n    i0.ɵɵtext(2, \"Imagem Atual\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵelement(4, \"img\", 78);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", ctx_r4.itemForm.imageUrl, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ManageItemsComponent_span_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"i\", 79);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.editingItem ? \"Atualizar\" : \"Criar\", \" \");\n  }\n}\n\nfunction ManageItemsComponent_span_78_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"span\", 80);\n    i0.ɵɵtext(2, \" Salvando... \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ManageItemsComponent_div_79_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 81);\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"show\", ctx_r7.showForm);\n  }\n}\n\nexport let ManageItemsComponent = /*#__PURE__*/(() => {\n  class ManageItemsComponent {\n    constructor(boxService, itemService, storageService) {\n      this.boxService = boxService;\n      this.itemService = itemService;\n      this.storageService = storageService;\n      this.boxes = [];\n      this.items = [];\n      this.selectedBox = null;\n      this.loading = false;\n      this.showForm = false;\n      this.editingItem = null;\n      this.itemForm = {\n        name: '',\n        rarity: 'COMUM',\n        power: 50,\n        points: 10,\n        dropRate: 1.0,\n        imageUrl: ''\n      };\n      this.selectedFile = null;\n      this.uploadingImage = false; // Sistema de notificações\n\n      this.notification = {\n        show: false,\n        message: '',\n        type: 'success'\n      };\n    }\n\n    ngOnInit() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        yield _this.loadBoxes();\n      })();\n    }\n\n    showNotification(message, type = 'success') {\n      this.notification = {\n        show: true,\n        message,\n        type\n      };\n      setTimeout(() => {\n        this.notification.show = false;\n      }, 4000);\n    }\n\n    loadBoxes() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        _this2.loading = true;\n\n        try {\n          _this2.boxes = yield _this2.boxService.getAllBoxes();\n        } catch (error) {\n          console.error('Erro ao carregar caixas:', error);\n        } finally {\n          _this2.loading = false;\n        }\n      })();\n    }\n\n    selectBox(box) {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        _this3.selectedBox = box;\n        yield _this3.loadItems();\n      })();\n    }\n\n    loadItems() {\n      var _this4 = this;\n\n      return _asyncToGenerator(function* () {\n        if (!_this4.selectedBox) return;\n        _this4.loading = true;\n\n        try {\n          _this4.items = yield _this4.itemService.getItemsByBox(_this4.selectedBox.id);\n        } catch (error) {\n          console.error('Erro ao carregar itens:', error);\n        } finally {\n          _this4.loading = false;\n        }\n      })();\n    }\n\n    openCreateForm() {\n      if (!this.selectedBox) {\n        this.showNotification('Selecione uma caixa primeiro', 'error');\n        return;\n      }\n\n      this.editingItem = null;\n      this.itemForm = {\n        name: '',\n        rarity: 'COMUM',\n        power: 50,\n        points: 10,\n        dropRate: 1.0,\n        imageUrl: ''\n      };\n      this.selectedFile = null;\n      this.showForm = true;\n    }\n\n    openEditForm(item) {\n      this.editingItem = item;\n      this.itemForm = {\n        name: item.name,\n        rarity: item.rarity,\n        power: item.power,\n        points: item.points || 10,\n        dropRate: item.dropRate || 1.0,\n        imageUrl: item.imageUrl\n      };\n      this.selectedFile = null;\n      this.showForm = true;\n    }\n\n    closeForm() {\n      this.showForm = false;\n      this.editingItem = null;\n      this.selectedFile = null;\n    }\n\n    onFileSelected(event) {\n      const file = event.target.files[0];\n\n      if (file) {\n        if (!file.type.startsWith('image/')) {\n          this.showNotification('Por favor, selecione apenas arquivos de imagem', 'error');\n          return;\n        }\n\n        this.selectedFile = file;\n      }\n    }\n\n    saveItem() {\n      var _this5 = this;\n\n      return _asyncToGenerator(function* () {\n        if (!_this5.selectedBox || !_this5.itemForm.name) {\n          _this5.showNotification('Por favor, preencha todos os campos obrigatórios', 'error');\n\n          return;\n        }\n\n        if (!_this5.itemForm.dropRate || _this5.itemForm.dropRate <= 0) {\n          _this5.showNotification('Por favor, configure uma Taxa de Drop válida (maior que 0)', 'error');\n\n          return;\n        }\n\n        try {\n          _this5.uploadingImage = true;\n          let imageUrl = _this5.itemForm.imageUrl;\n\n          if (_this5.selectedFile) {\n            // Se estiver editando e tiver uma imagem antiga, deletar do Storage\n            if (_this5.editingItem && _this5.editingItem.imageUrl) {\n              try {\n                yield _this5.storageService.deleteImage(_this5.editingItem.imageUrl);\n                console.log('Imagem antiga deletada do Storage');\n              } catch (error) {\n                console.warn('Erro ao deletar imagem antiga:', error);\n              }\n            } // Upload da nova imagem\n\n\n            imageUrl = yield _this5.storageService.uploadItemImage(_this5.selectedFile, _this5.itemForm.name, _this5.selectedBox.theme);\n          }\n\n          const itemData = {\n            name: _this5.itemForm.name,\n            rarity: _this5.itemForm.rarity,\n            power: _this5.itemForm.power,\n            points: _this5.itemForm.points,\n            dropRate: _this5.itemForm.dropRate,\n            imageUrl: imageUrl,\n            boxId: _this5.selectedBox.id,\n            boxName: _this5.selectedBox.name,\n            theme: _this5.selectedBox.theme\n          };\n\n          if (_this5.editingItem) {\n            yield _this5.itemService.updateItem(_this5.editingItem.id, itemData);\n\n            _this5.showNotification('✅ Item atualizado com sucesso!', 'success');\n          } else {\n            yield _this5.itemService.createItem(itemData);\n\n            _this5.showNotification('✅ Item criado com sucesso!', 'success');\n          }\n\n          _this5.closeForm();\n\n          yield _this5.loadItems();\n        } catch (error) {\n          console.error('Erro ao salvar item:', error);\n\n          _this5.showNotification('❌ Erro ao salvar item: ' + error, 'error');\n        } finally {\n          _this5.uploadingImage = false;\n        }\n      })();\n    }\n\n    deleteItem(item) {\n      var _this6 = this;\n\n      return _asyncToGenerator(function* () {\n        if (!confirm(`Tem certeza que deseja deletar \"${item.name}\"?`)) {\n          return;\n        }\n\n        try {\n          // Deletar imagem do Storage se existir\n          if (item.imageUrl) {\n            try {\n              yield _this6.storageService.deleteImage(item.imageUrl);\n              console.log('Imagem deletada do Storage');\n            } catch (error) {\n              console.warn('Erro ao deletar imagem:', error);\n            }\n          }\n\n          yield _this6.itemService.deleteItem(item.id);\n\n          _this6.showNotification('✅ Item deletado com sucesso!', 'success');\n\n          yield _this6.loadItems();\n        } catch (error) {\n          console.error('Erro ao deletar item:', error);\n\n          _this6.showNotification('❌ Erro ao deletar item', 'error');\n        }\n      })();\n    }\n\n    getRarityClass(rarity) {\n      const classes = {\n        'COMUM': 'text-secondary',\n        'RARO': 'text-primary',\n        'EPICO': 'text-info',\n        'LENDARIO': 'text-warning',\n        'MITICO': 'text-danger'\n      };\n      return classes[rarity] || 'text-secondary';\n    }\n\n    getRarityColor(rarity) {\n      const colors = {\n        'COMUM': '#9e9e9e',\n        'RARO': '#4fc3f7',\n        'EPICO': '#ba68c8',\n        'LENDARIO': '#ffd54f',\n        'MITICO': '#ff6f00'\n      };\n      return colors[rarity] || '#fff';\n    }\n\n    deleteAllItems() {\n      var _this7 = this;\n\n      return _asyncToGenerator(function* () {\n        if (!confirm('ATENÇÃO! Isso irá deletar TODOS os itens do banco de dados. Continuar?')) {\n          return;\n        }\n\n        _this7.loading = true;\n\n        try {\n          yield _this7.itemService.deleteAllItems();\n\n          _this7.showNotification('✅ Todos os itens foram deletados!', 'success');\n\n          _this7.items = [];\n          yield _this7.loadBoxes();\n        } catch (error) {\n          console.error('Erro ao deletar itens:', error);\n\n          _this7.showNotification('❌ Erro ao deletar itens', 'error');\n        } finally {\n          _this7.loading = false;\n        }\n      })();\n    }\n\n    migrateItems() {\n      var _this8 = this;\n\n      return _asyncToGenerator(function* () {\n        try {\n          _this8.loading = true;\n          yield _this8.itemService.migrateItemsWithoutPoints(true);\n          console.log('Migração de itens base concluída. Migrando userItems...');\n          yield _this8.itemService.migrateUserItemsPoints();\n\n          _this8.showNotification('✅ Migração concluída! Itens atualizados com pontos baseados na raridade.', 'success');\n\n          yield _this8.loadItems();\n        } catch (error) {\n          console.error('Erro na migração:', error);\n\n          _this8.showNotification('❌ Erro na migração: ' + error, 'error');\n        } finally {\n          _this8.loading = false;\n        }\n      })();\n    }\n\n  }\n\n  ManageItemsComponent.ɵfac = function ManageItemsComponent_Factory(t) {\n    return new (t || ManageItemsComponent)(i0.ɵɵdirectiveInject(i1.BoxService), i0.ɵɵdirectiveInject(i2.ItemService), i0.ɵɵdirectiveInject(i3.StorageService));\n  };\n\n  ManageItemsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ManageItemsComponent,\n    selectors: [[\"app-manage-items\"]],\n    decls: 80,\n    vars: 19,\n    consts: [[1, \"container-fluid\", \"mt-4\"], [\"src\", \"https://i.pinimg.com/originals/1b/3c/58/1b3c5821c4ef798f196b30cc3eb46ac2.gif\", \"alt\", \"\", \"aria-hidden\", \"true\", 1, \"bg-gif\"], [\"autoplay\", \"\", \"muted\", \"\", \"loop\", \"\", 1, \"bg-video\"], [\"src\", \"assets/backgrounds/welcome.webm\", \"type\", \"video/webm\"], [\"src\", \"assets/backgrounds/welcome.mp4\", \"type\", \"video/mp4\"], [\"class\", \"notification-toast\", 3, \"success\", \"error\", \"info\", 4, \"ngIf\"], [1, \"mb-4\"], [1, \"bi\", \"bi-card-image\"], [1, \"row\"], [1, \"col-md-3\"], [1, \"card\"], [1, \"card-header\"], [1, \"mb-0\"], [1, \"list-group\", \"list-group-flush\", 2, \"max-height\", \"80vh\", \"overflow-y\", \"auto\"], [\"class\", \"list-group-item list-group-item-action\", 3, \"active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-9\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"modal\"], [1, \"modal-dialog\", \"modal-lg\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [1, \"mb-3\"], [1, \"form-label\"], [\"type\", \"text\", \"name\", \"name\", \"placeholder\", \"Ex: Ichigo Kurosaki\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-md-6\", \"mb-3\"], [\"name\", \"rarity\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"COMUM\"], [\"value\", \"RARO\"], [\"value\", \"EPICO\"], [\"value\", \"LENDARIO\"], [\"value\", \"MITICO\"], [\"type\", \"number\", \"name\", \"power\", \"min\", \"1\", \"max\", \"100\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"points\", \"min\", \"1\", \"max\", \"1000\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"text-muted\"], [\"type\", \"number\", \"name\", \"dropRate\", \"min\", \"0.01\", \"max\", \"100\", \"step\", \"0.01\", \"placeholder\", \"Ex: 5.5\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"file\", \"accept\", \"image/*\", 1, \"form-control\", 3, \"change\"], [\"class\", \"mb-3\", 4, \"ngIf\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [\"class\", \"modal-backdrop fade\", 3, \"show\", 4, \"ngIf\"], [1, \"notification-toast\"], [1, \"bi\"], [1, \"close-btn\", 3, \"click\"], [1, \"bi\", \"bi-x\"], [1, \"list-group-item\", \"list-group-item-action\", 3, \"click\"], [1, \"d-flex\", \"align-items-center\"], [1, \"me-3\", 2, \"width\", \"50px\", \"height\", \"50px\", \"object-fit\", \"cover\", \"border-radius\", \"4px\", 3, \"src\", \"alt\"], [1, \"alert\", \"alert-info\"], [1, \"bi\", \"bi-info-circle\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-3\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"bi\", \"bi-plus-circle\"], [\"class\", \"text-center py-5\", 4, \"ngIf\"], [\"class\", \"alert alert-warning\", 4, \"ngIf\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"text-center\", \"py-5\"], [1, \"spinner-border\", \"text-primary\"], [1, \"alert\", \"alert-warning\"], [\"class\", \"col-md-4 mb-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\", \"mb-3\"], [1, \"card\", \"h-100\"], [1, \"card-img-top\", 2, \"height\", \"350px\", \"object-fit\", \"cover\", 3, \"src\", \"alt\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"badge\", \"bg-secondary\", \"float-end\"], [1, \"mt-auto\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-2\"], [1, \"badge\"], [1, \"d-grid\", \"gap-2\"], [1, \"btn\", \"btn-sm\", \"btn-outline-primary\", 3, \"click\"], [1, \"bi\", \"bi-pencil\"], [1, \"btn\", \"btn-sm\", \"btn-outline-danger\", 3, \"click\"], [1, \"bi\", \"bi-trash\"], [\"alt\", \"Preview\", 1, \"img-thumbnail\", 2, \"max-width\", \"200px\", 3, \"src\"], [1, \"bi\", \"bi-save\"], [1, \"spinner-border\", \"spinner-border-sm\", \"me-2\"], [1, \"modal-backdrop\", \"fade\"]],\n    template: function ManageItemsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"img\", 1);\n        i0.ɵɵelementStart(2, \"video\", 2);\n        i0.ɵɵelement(3, \"source\", 3);\n        i0.ɵɵelement(4, \"source\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, ManageItemsComponent_div_5_Template, 6, 13, \"div\", 5);\n        i0.ɵɵelementStart(6, \"h2\", 6);\n        i0.ɵɵelement(7, \"i\", 7);\n        i0.ɵɵtext(8, \" Gerenciar Itens\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 8);\n        i0.ɵɵelementStart(10, \"div\", 9);\n        i0.ɵɵelementStart(11, \"div\", 10);\n        i0.ɵɵelementStart(12, \"div\", 11);\n        i0.ɵɵelementStart(13, \"h5\", 12);\n        i0.ɵɵtext(14, \"Selecione uma Caixa\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 13);\n        i0.ɵɵtemplate(16, ManageItemsComponent_button_16_Template, 9, 6, \"button\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 15);\n        i0.ɵɵtemplate(18, ManageItemsComponent_div_18_Template, 3, 0, \"div\", 16);\n        i0.ɵɵtemplate(19, ManageItemsComponent_div_19_Template, 10, 4, \"div\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"div\", 18);\n        i0.ɵɵelementStart(21, \"div\", 19);\n        i0.ɵɵelementStart(22, \"div\", 20);\n        i0.ɵɵelementStart(23, \"div\", 21);\n        i0.ɵɵelementStart(24, \"h5\", 22);\n        i0.ɵɵelement(25, \"i\", 7);\n        i0.ɵɵtext(26);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"button\", 23);\n        i0.ɵɵlistener(\"click\", function ManageItemsComponent_Template_button_click_27_listener() {\n          return ctx.closeForm();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 24);\n        i0.ɵɵelementStart(29, \"form\");\n        i0.ɵɵelementStart(30, \"div\", 25);\n        i0.ɵɵelementStart(31, \"label\", 26);\n        i0.ɵɵtext(32, \"Nome do Personagem *\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"input\", 27);\n        i0.ɵɵlistener(\"ngModelChange\", function ManageItemsComponent_Template_input_ngModelChange_33_listener($event) {\n          return ctx.itemForm.name = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 8);\n        i0.ɵɵelementStart(35, \"div\", 28);\n        i0.ɵɵelementStart(36, \"label\", 26);\n        i0.ɵɵtext(37, \"Raridade *\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"select\", 29);\n        i0.ɵɵlistener(\"ngModelChange\", function ManageItemsComponent_Template_select_ngModelChange_38_listener($event) {\n          return ctx.itemForm.rarity = $event;\n        });\n        i0.ɵɵelementStart(39, \"option\", 30);\n        i0.ɵɵtext(40, \"Comum\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"option\", 31);\n        i0.ɵɵtext(42, \"Raro\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"option\", 32);\n        i0.ɵɵtext(44, \"\\u00C9pico\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"option\", 33);\n        i0.ɵɵtext(46, \"Lend\\u00E1rio\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"option\", 34);\n        i0.ɵɵtext(48, \"M\\u00EDtico\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"div\", 8);\n        i0.ɵɵelementStart(50, \"div\", 28);\n        i0.ɵɵelementStart(51, \"label\", 26);\n        i0.ɵɵtext(52, \"Poder (1-100) *\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"input\", 35);\n        i0.ɵɵlistener(\"ngModelChange\", function ManageItemsComponent_Template_input_ngModelChange_53_listener($event) {\n          return ctx.itemForm.power = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"div\", 28);\n        i0.ɵɵelementStart(55, \"label\", 26);\n        i0.ɵɵtext(56, \"Pontos *\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"input\", 36);\n        i0.ɵɵlistener(\"ngModelChange\", function ManageItemsComponent_Template_input_ngModelChange_57_listener($event) {\n          return ctx.itemForm.points = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"small\", 37);\n        i0.ɵɵtext(59, \"Pontos que o item vale\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"div\", 25);\n        i0.ɵɵelementStart(61, \"label\", 26);\n        i0.ɵɵtext(62, \"Taxa de Drop (%) *\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(63, \"input\", 38);\n        i0.ɵɵlistener(\"ngModelChange\", function ManageItemsComponent_Template_input_ngModelChange_63_listener($event) {\n          return ctx.itemForm.dropRate = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"small\", 37);\n        i0.ɵɵtext(65, \"Porcentagem de chance deste item aparecer (0.01% - 100%)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"div\", 25);\n        i0.ɵɵelementStart(67, \"label\", 26);\n        i0.ɵɵtext(68, \"Imagem do Personagem\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(69, \"input\", 39);\n        i0.ɵɵlistener(\"change\", function ManageItemsComponent_Template_input_change_69_listener($event) {\n          return ctx.onFileSelected($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"small\", 37);\n        i0.ɵɵtext(71, \"Deixe em branco para manter a imagem atual (ao editar)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(72, ManageItemsComponent_div_72_Template, 5, 1, \"div\", 40);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(73, \"div\", 41);\n        i0.ɵɵelementStart(74, \"button\", 42);\n        i0.ɵɵlistener(\"click\", function ManageItemsComponent_Template_button_click_74_listener() {\n          return ctx.closeForm();\n        });\n        i0.ɵɵtext(75, \"Cancelar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(76, \"button\", 43);\n        i0.ɵɵlistener(\"click\", function ManageItemsComponent_Template_button_click_76_listener() {\n          return ctx.saveItem();\n        });\n        i0.ɵɵtemplate(77, ManageItemsComponent_span_77_Template, 3, 1, \"span\", 17);\n        i0.ɵɵtemplate(78, ManageItemsComponent_span_78_Template, 3, 0, \"span\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(79, ManageItemsComponent_div_79_Template, 1, 2, \"div\", 44);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.notification.show);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngForOf\", ctx.boxes);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.selectedBox);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedBox);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"display\", ctx.showForm ? \"block\" : \"none\");\n        i0.ɵɵclassProp(\"show\", ctx.showForm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" \", ctx.editingItem ? \"Editar Item\" : \"Novo Item\", \" \");\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.itemForm.name);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.itemForm.rarity);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngModel\", ctx.itemForm.power);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.itemForm.points);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.itemForm.dropRate);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", ctx.itemForm.imageUrl && !ctx.selectedFile);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.uploadingImage);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.uploadingImage);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.uploadingImage);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showForm);\n      }\n    },\n    directives: [i4.NgIf, i4.NgForOf, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i5.SelectControlValueAccessor, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.MinValidator, i5.MaxValidator, i5.NumberValueAccessor],\n    styles: [\".bg-video[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;z-index:-1;pointer-events:none;filter:brightness(.7) saturate(.95);object-fit:cover}.bg-gif[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;object-fit:cover;z-index:-2;pointer-events:none;filter:brightness(.75) saturate(.95);opacity:.95;min-width:100%;min-height:100%}.bg-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.55));z-index:2;pointer-events:none}.welcome-content[_ngcontent-%COMP%]{position:relative;z-index:3;text-align:center;color:#fff;text-shadow:0 4px 18px rgba(0,0,0,.7)}.notification-toast[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;min-width:300px;max-width:500px;padding:1rem 1.5rem;border-radius:8px;box-shadow:0 4px 12px #00000026;display:flex;align-items:center;grid-gap:1rem;gap:1rem;z-index:9999;animation:slideIn .3s ease-out;font-weight:500}.notification-toast[_ngcontent-%COMP%]   i.bi[_ngcontent-%COMP%]{font-size:1.5rem}.notification-toast[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.notification-toast[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:0;opacity:.7;transition:opacity .2s}.notification-toast[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{opacity:1}.notification-toast[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.notification-toast.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745 0%,#20c997 100%);color:#fff}.notification-toast.error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545 0%,#ff6b6b 100%);color:#fff}.notification-toast.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#17a2b8 0%,#00d4ff 100%);color:#fff}@keyframes slideIn{0%{transform:translate(400px);opacity:0}to{transform:translate(0);opacity:1}}.modal.show[_ngcontent-%COMP%]{background:rgba(0,0,0,.5)}.modal-backdrop.show[_ngcontent-%COMP%]{opacity:.5}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:2000!important;display:block}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{z-index:2001;margin:2.5rem auto}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:rgba(0,0,0,.7);color:#fff}.modal[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:rgba(255,255,255,.5);color:#fff}.modal-backdrop[_ngcontent-%COMP%]{z-index:1990!important}.list-group-item.active[_ngcontent-%COMP%]{background-color:#0d6efd;border-color:#0d6efd}.card[_ngcontent-%COMP%]{background:rgba(0,0,0,.7);color:#fff;border:2px solid}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:rgba(0,0,0,.8);border-bottom:1px solid rgba(255,255,255,.1)}.list-group-item[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);color:#fff;border-color:#ffffff1a}.list-group-item.active[_ngcontent-%COMP%]{background-color:#0d6efdcc;border-color:#0d6efd}.img-thumbnail[_ngcontent-%COMP%]{object-fit:contain;object-position:center;background:#f8f9fa;padding:.5rem}\"]\n  });\n  return ManageItemsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}