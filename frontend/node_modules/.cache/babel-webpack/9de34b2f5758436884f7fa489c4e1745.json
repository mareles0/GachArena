{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/olimp/OneDrive/Documentos/estagio/Estagio-etapa-3/GachArena/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/profile.service\";\nimport * as i3 from \"../../services/item.service\";\nimport * as i4 from \"../../services/auth.service\";\nimport * as i5 from \"../../services/friend.service\";\nimport * as i6 from \"../../services/user.service\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"../trade/trade-modal.component\";\nconst _c0 = [\"descriptionTextarea\"];\nconst _c1 = [\"loadingTpl\"];\n\nfunction ProfileComponent_div_0_div_1_video_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"video\", 53);\n  }\n\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(3);\n    i0.ɵɵattribute(\"src\", ctx_r24.profile == null ? null : ctx_r24.profile.profileBackground, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ProfileComponent_div_0_div_1_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 54);\n  }\n\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"src\", ctx_r25.profile == null ? null : ctx_r25.profile.profileBackground, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ProfileComponent_div_0_div_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 55);\n  }\n\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(3);\n    i0.ɵɵstyleProp(\"background-image\", \"url(\" + (ctx_r26.profile == null ? null : ctx_r26.profile.profileBackground) + \")\");\n  }\n}\n\nfunction ProfileComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtemplate(1, ProfileComponent_div_0_div_1_video_1_Template, 1, 1, \"video\", 50);\n    i0.ɵɵtemplate(2, ProfileComponent_div_0_div_1_img_2_Template, 1, 1, \"img\", 51);\n    i0.ɵɵtemplate(3, ProfileComponent_div_0_div_1_div_3_Template, 1, 2, \"div\", 52);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isVideoUrl(ctx_r1.profile == null ? null : ctx_r1.profile.profileBackground));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isGifUrl(ctx_r1.profile == null ? null : ctx_r1.profile.profileBackground) && !ctx_r1.isVideoUrl(ctx_r1.profile == null ? null : ctx_r1.profile.profileBackground));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isVideoUrl(ctx_r1.profile == null ? null : ctx_r1.profile.profileBackground) && !ctx_r1.isGifUrl(ctx_r1.profile == null ? null : ctx_r1.profile.profileBackground));\n  }\n}\n\nfunction ProfileComponent_div_0_video_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"video\", 56);\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"src\", ctx_r2.profile == null ? null : ctx_r2.profile.profileBackground, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ProfileComponent_div_0_img_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 57);\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r3.profile == null ? null : ctx_r3.profile.profileBackground, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ProfileComponent_div_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 58);\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"background-image\", \"linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)), url(\" + ((ctx_r4.profile == null ? null : ctx_r4.profile.profileBackground) || (ctx_r4.profile == null ? null : ctx_r4.profile.profileIcon) || \"assets/profile-hero.svg\") + \")\");\n  }\n}\n\nfunction ProfileComponent_div_0_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 59);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_0_div_9_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return ctx_r27.startEdit();\n    });\n    i0.ɵɵelement(1, \"i\", 60);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfileComponent_div_0_p_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 61);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r6.profile == null ? null : ctx_r6.profile.description);\n  }\n}\n\nfunction ProfileComponent_div_0_button_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 62);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_0_button_20_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return ctx_r29.sendFriendRequest();\n    });\n    i0.ɵɵtext(1, \"Enviar solicita\\u00E7\\u00E3o\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfileComponent_div_0_button_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 63);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_0_button_21_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext(2);\n      return ctx_r31.openTrade();\n    });\n    i0.ɵɵtext(1, \"Propor troca\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfileComponent_div_0_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 64);\n    i0.ɵɵelementStart(1, \"div\", 65);\n    i0.ɵɵelement(2, \"img\", 66);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 67);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const it_r33 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", it_r33.item.imageUrl || \"assets/default-card.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(it_r33.item.name);\n  }\n}\n\nfunction ProfileComponent_div_0_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 68);\n    i0.ɵɵelementStart(1, \"div\", 69);\n    i0.ɵɵelementStart(2, \"span\", 70);\n    i0.ɵɵtext(3, \"Carregando...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfileComponent_div_0_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 71);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r11.error);\n  }\n}\n\nfunction ProfileComponent_div_0_div_45_div_2_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 78);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_0_div_45_div_2_div_4_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r39);\n      const icon_r37 = restoredCtx.$implicit;\n      const ctx_r38 = i0.ɵɵnextContext(4);\n      return ctx_r38.selectIcon(icon_r37);\n    });\n    i0.ɵɵelement(1, \"img\", 79);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const icon_r37 = ctx.$implicit;\n    const ctx_r36 = i0.ɵɵnextContext(4);\n    i0.ɵɵclassProp(\"selected\", (ctx_r36.profile == null ? null : ctx_r36.profile.profileIcon) === icon_r37);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", icon_r37, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ProfileComponent_div_0_div_45_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵelementStart(1, \"div\", 75);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 76);\n    i0.ɵɵtemplate(4, ProfileComponent_div_0_div_45_div_2_div_4_Template, 2, 3, \"div\", 77);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const cat_r35 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cat_r35.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", cat_r35.value);\n  }\n}\n\nfunction ProfileComponent_div_0_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 72);\n    i0.ɵɵtemplate(2, ProfileComponent_div_0_div_45_div_2_Template, 5, 2, \"div\", 73);\n    i0.ɵɵpipe(3, \"keyvalue\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(3, 1, ctx_r12.iconsByCategory));\n  }\n}\n\nfunction ProfileComponent_div_0_ng_template_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 80);\n    i0.ɵɵtext(1, \"Nenhum \\u00EDcone dispon\\u00EDvel. Verifique a pasta \");\n    i0.ɵɵelementStart(2, \"code\");\n    i0.ɵɵtext(3, \"assets/avatares\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \".\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfileComponent_div_0_label_52_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"label\", 81);\n    i0.ɵɵelementStart(1, \"input\", 82);\n    i0.ɵɵlistener(\"change\", function ProfileComponent_div_0_label_52_Template_input_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r42);\n      const it_r40 = restoredCtx.$implicit;\n      const ctx_r41 = i0.ɵɵnextContext(2);\n      return ctx_r41.toggleShowcase(it_r40.id, $event.target.checked);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(2, \"img\", 83);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const it_r40 = ctx.$implicit;\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"checked\", ctx_r15.showcasedSelection.has(it_r40.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", it_r40.item.imageUrl || \"assets/default-card.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(it_r40.item.name);\n  }\n}\n\nfunction ProfileComponent_div_0_div_56_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"video\", 86);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r43 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"src\", ctx_r43.profile == null ? null : ctx_r43.profile.profileBackground, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ProfileComponent_div_0_div_56_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"img\", 87);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r44 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r44.profile == null ? null : ctx_r44.profile.profileBackground, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ProfileComponent_div_0_div_56_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"div\", 88);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r45 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"background-image\", \"url(\" + (ctx_r45.profile == null ? null : ctx_r45.profile.profileBackground) + \")\");\n  }\n}\n\nfunction ProfileComponent_div_0_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 84);\n    i0.ɵɵtemplate(1, ProfileComponent_div_0_div_56_ng_container_1_Template, 2, 1, \"ng-container\", 85);\n    i0.ɵɵtemplate(2, ProfileComponent_div_0_div_56_ng_container_2_Template, 2, 1, \"ng-container\", 85);\n    i0.ɵɵtemplate(3, ProfileComponent_div_0_div_56_ng_container_3_Template, 2, 2, \"ng-container\", 85);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r16.isVideoUrl(ctx_r16.profile == null ? null : ctx_r16.profile.profileBackground));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r16.isVideoUrl(ctx_r16.profile == null ? null : ctx_r16.profile.profileBackground) && ctx_r16.isGifUrl(ctx_r16.profile == null ? null : ctx_r16.profile.profileBackground));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r16.isVideoUrl(ctx_r16.profile == null ? null : ctx_r16.profile.profileBackground) && !ctx_r16.isGifUrl(ctx_r16.profile == null ? null : ctx_r16.profile.profileBackground));\n  }\n}\n\nfunction ProfileComponent_div_0_div_57_div_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"img\", 92);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const bg_r47 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", bg_r47.src, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ProfileComponent_div_0_div_57_div_2_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"img\", 93);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const bg_r47 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", bg_r47.src, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ProfileComponent_div_0_div_57_div_2_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"video\", 94);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const bg_r47 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"src\", bg_r47.src, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ProfileComponent_div_0_div_57_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r55 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 91);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_0_div_57_div_2_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r55);\n      const bg_r47 = restoredCtx.$implicit;\n      const ctx_r54 = i0.ɵɵnextContext(3);\n      return ctx_r54.profile.profileBackground = bg_r47.src;\n    });\n    i0.ɵɵtemplate(1, ProfileComponent_div_0_div_57_div_2_ng_container_1_Template, 2, 1, \"ng-container\", 85);\n    i0.ɵɵtemplate(2, ProfileComponent_div_0_div_57_div_2_ng_container_2_Template, 2, 1, \"ng-container\", 85);\n    i0.ɵɵtemplate(3, ProfileComponent_div_0_div_57_div_2_ng_container_3_Template, 2, 1, \"ng-container\", 85);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const bg_r47 = ctx.$implicit;\n    const ctx_r46 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"selected\", (ctx_r46.profile == null ? null : ctx_r46.profile.profileBackground) === bg_r47.src);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", bg_r47.type === \"gif\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", bg_r47.type === \"image\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", bg_r47.type === \"video\");\n  }\n}\n\nfunction ProfileComponent_div_0_div_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 89);\n    i0.ɵɵtemplate(2, ProfileComponent_div_0_div_57_div_2_Template, 4, 5, \"div\", 90);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r17.backgrounds);\n  }\n}\n\nfunction ProfileComponent_div_0_ng_template_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 80);\n    i0.ɵɵtext(1, \"Nenhum fundo dispon\\u00EDvel em \");\n    i0.ɵɵelementStart(2, \"code\");\n    i0.ɵɵtext(3, \"assets/backgrounds\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \".\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfileComponent_div_0_div_65_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r57 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 95);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_0_div_65_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r57);\n      const ctx_r56 = i0.ɵɵnextContext(2);\n      return ctx_r56.cancelEdit();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"show\", ctx_r20.editing);\n  }\n}\n\nfunction ProfileComponent_div_0_app_trade_modal_66_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r59 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-trade-modal\", 96);\n    i0.ɵɵlistener(\"closed\", function ProfileComponent_div_0_app_trade_modal_66_Template_app_trade_modal_closed_0_listener($event) {\n      i0.ɵɵrestoreView(_r59);\n      const ctx_r58 = i0.ɵɵnextContext(2);\n      return ctx_r58.closeTrade($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"targetUserId\", ctx_r21.userId || \"\")(\"targetUsername\", ctx_r21.username || \"\")(\"targetUserPhoto\", (ctx_r21.profile == null ? null : ctx_r21.profile.profileIcon) || \"\");\n  }\n}\n\nfunction ProfileComponent_div_0_ng_template_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 97);\n    i0.ɵɵtext(1, \"Carregando...\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfileComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r61 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, ProfileComponent_div_0_div_1_Template, 4, 3, \"div\", 2);\n    i0.ɵɵelementStart(2, \"div\", 3);\n    i0.ɵɵtemplate(3, ProfileComponent_div_0_video_3_Template, 1, 1, \"video\", 4);\n    i0.ɵɵtemplate(4, ProfileComponent_div_0_img_4_Template, 1, 1, \"img\", 5);\n    i0.ɵɵtemplate(5, ProfileComponent_div_0_div_5_Template, 1, 2, \"div\", 6);\n    i0.ɵɵelementStart(6, \"div\", 7);\n    i0.ɵɵelementStart(7, \"div\", 8);\n    i0.ɵɵelement(8, \"img\", 9);\n    i0.ɵɵtemplate(9, ProfileComponent_div_0_div_9_Template, 2, 0, \"div\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 11);\n    i0.ɵɵelementStart(11, \"h1\", 12);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 13);\n    i0.ɵɵelementStart(14, \"div\", 14);\n    i0.ɵɵtext(15, \"UID: \");\n    i0.ɵɵelementStart(16, \"span\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, ProfileComponent_div_0_p_18_Template, 2, 1, \"p\", 15);\n    i0.ɵɵelementStart(19, \"div\", 16);\n    i0.ɵɵtemplate(20, ProfileComponent_div_0_button_20_Template, 2, 0, \"button\", 17);\n    i0.ɵɵtemplate(21, ProfileComponent_div_0_button_21_Template, 2, 0, \"button\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"section\", 19);\n    i0.ɵɵelementStart(23, \"h3\");\n    i0.ɵɵtext(24, \"Cartas em destaque\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 20);\n    i0.ɵɵtemplate(26, ProfileComponent_div_0_div_26_Template, 5, 2, \"div\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 22);\n    i0.ɵɵelementStart(28, \"div\", 23);\n    i0.ɵɵelementStart(29, \"div\", 24);\n    i0.ɵɵelementStart(30, \"div\", 25);\n    i0.ɵɵelementStart(31, \"h5\", 26);\n    i0.ɵɵtext(32, \"Editar Perfil\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_0_Template_button_click_33_listener() {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r60 = i0.ɵɵnextContext();\n      return ctx_r60.cancelEdit();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"div\", 28);\n    i0.ɵɵelementStart(35, \"div\", 29);\n    i0.ɵɵtemplate(36, ProfileComponent_div_0_div_36_Template, 4, 0, \"div\", 30);\n    i0.ɵɵtemplate(37, ProfileComponent_div_0_div_37_Template, 2, 1, \"div\", 31);\n    i0.ɵɵelementStart(38, \"div\", 32);\n    i0.ɵɵelementStart(39, \"div\", 33);\n    i0.ɵɵelementStart(40, \"label\");\n    i0.ɵɵtext(41, \"Descri\\u00E7\\u00E3o\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"textarea\", 34);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_div_0_Template_textarea_ngModelChange_42_listener($event) {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r62 = i0.ɵɵnextContext();\n      return ctx_r62.profile.description = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"label\");\n    i0.ɵɵtext(44, \"\\u00CDcone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(45, ProfileComponent_div_0_div_45_Template, 4, 3, \"div\", 35);\n    i0.ɵɵtemplate(46, ProfileComponent_div_0_ng_template_46_Template, 5, 0, \"ng-template\", null, 36, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"div\", 37);\n    i0.ɵɵelementStart(49, \"h4\");\n    i0.ɵɵtext(50, \"Cartas em destaque (selecione at\\u00E9 6)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"div\", 38);\n    i0.ɵɵtemplate(52, ProfileComponent_div_0_label_52_Template, 5, 3, \"label\", 39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"div\", 40);\n    i0.ɵɵelementStart(54, \"label\");\n    i0.ɵɵtext(55, \"Fundo do perfil\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(56, ProfileComponent_div_0_div_56_Template, 4, 3, \"div\", 41);\n    i0.ɵɵtemplate(57, ProfileComponent_div_0_div_57_Template, 3, 1, \"div\", 35);\n    i0.ɵɵtemplate(58, ProfileComponent_div_0_ng_template_58_Template, 5, 0, \"ng-template\", null, 42, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(60, \"div\", 43);\n    i0.ɵɵelementStart(61, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_0_Template_button_click_61_listener() {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r63 = i0.ɵɵnextContext();\n      return ctx_r63.cancelEdit();\n    });\n    i0.ɵɵtext(62, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_0_Template_button_click_63_listener() {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r64 = i0.ɵɵnextContext();\n      return ctx_r64.saveEdit();\n    });\n    i0.ɵɵtext(64, \"Salvar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(65, ProfileComponent_div_0_div_65_Template, 1, 2, \"div\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(66, ProfileComponent_div_0_app_trade_modal_66_Template, 1, 3, \"app-trade-modal\", 47);\n    i0.ɵɵtemplate(67, ProfileComponent_div_0_ng_template_67_Template, 2, 0, \"ng-template\", null, 48, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r13 = i0.ɵɵreference(47);\n\n    const _r18 = i0.ɵɵreference(59);\n\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.profile == null ? null : ctx_r0.profile.profileBackground);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"has-video-bg\", ctx_r0.isVideoUrl(ctx_r0.profile == null ? null : ctx_r0.profile.profileBackground));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isVideoUrl(ctx_r0.profile == null ? null : ctx_r0.profile.profileBackground));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isGifUrl(ctx_r0.profile == null ? null : ctx_r0.profile.profileBackground) && !ctx_r0.isVideoUrl(ctx_r0.profile == null ? null : ctx_r0.profile.profileBackground));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isVideoUrl(ctx_r0.profile == null ? null : ctx_r0.profile.profileBackground) && !ctx_r0.isGifUrl(ctx_r0.profile == null ? null : ctx_r0.profile.profileBackground));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", (ctx_r0.profile == null ? null : ctx_r0.profile.profileIcon) || \"assets/default-avatar.svg\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.auth.currentUser == null ? null : ctx_r0.auth.currentUser.uid) === ctx_r0.userId);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.username);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.userId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.profile == null ? null : ctx_r0.profile.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.auth.currentUser == null ? null : ctx_r0.auth.currentUser.uid) !== ctx_r0.userId && !ctx_r0.isFriend);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.auth.currentUser == null ? null : ctx_r0.auth.currentUser.uid) !== ctx_r0.userId && ctx_r0.isFriend);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.showcasedItems);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"display\", ctx_r0.editing ? \"block\" : \"none\");\n    i0.ɵɵclassProp(\"show\", ctx_r0.editing);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.modalLoading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.error && !ctx_r0.modalLoading);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.profile.description);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.iconsLoaded)(\"ngIfElse\", _r13);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.myItemsForShowcase);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.profile == null ? null : ctx_r0.profile.profileBackground);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.backgroundsLoaded)(\"ngIfElse\", _r18);\n    i0.ɵɵadvance(3);\n    i0.ɵɵstyleProp(\"z-index\", 30);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", false);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.modalLoading);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.editing);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showTradeModal);\n  }\n}\n\nexport let ProfileComponent = /*#__PURE__*/(() => {\n  class ProfileComponent {\n    constructor(route, profileService, itemService, auth, friendService, userService) {\n      this.route = route;\n      this.profileService = profileService;\n      this.itemService = itemService;\n      this.auth = auth;\n      this.friendService = friendService;\n      this.userService = userService;\n      this.userId = null;\n      this.profile = null;\n      this.username = null;\n      this.iconsByCategory = {};\n      this.iconsLoaded = false;\n      this.backgrounds = [];\n      this.backgroundsLoaded = false;\n      this.editing = false; // showcase items\n\n      this.showcasedItems = [];\n      this.loading = false;\n      this.error = ''; // friendship & trade modal\n\n      this.isFriend = false;\n      this.showTradeModal = false; // ownership and meta\n\n      this.isOwner = false;\n      this.level = null;\n      this.myItemsForShowcase = [];\n      this.showcasedSelection = new Set();\n      this.modalLoading = false;\n      this.modalCancelRequested = false;\n    }\n\n    isGifUrl(url) {\n      if (!url) return false;\n      return /\\.(gif)$/i.test(url);\n    }\n\n    ngOnInit() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        var _a;\n\n        _this.userId = _this.route.snapshot.paramMap.get('id') || ((_a = _this.auth.currentUser) === null || _a === void 0 ? void 0 : _a.uid) || null;\n\n        if (!_this.userId) {\n          _this.error = 'Usuário não encontrado';\n          return;\n        }\n\n        yield _this.loadProfile();\n        _this.iconsByCategory = yield _this.profileService.listAvailableIconsGrouped();\n        _this.iconsLoaded = Object.keys(_this.iconsByCategory || {}).length > 0;\n        _this.backgrounds = yield _this.profileService.listAvailableBackgrounds();\n        _this.backgroundsLoaded = (_this.backgrounds || []).length > 0; // verificar se somos amigos\n\n        const me = _this.auth.currentUser;\n\n        if (me && _this.userId) {\n          _this.isFriend = yield _this.friendService.areFriends(me.uid, _this.userId);\n          _this.isOwner = me.uid === _this.userId;\n        }\n      })();\n    }\n\n    loadProfile() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        var _a, _b;\n\n        if (!_this2.userId) return;\n        _this2.loading = true;\n        _this2.profile = yield _this2.profileService.getProfile(_this2.userId); // Buscar username\n\n        const userDoc = yield _this2.userService.getUserById(_this2.userId);\n        _this2.username = (userDoc === null || userDoc === void 0 ? void 0 : userDoc.username) || null;\n        console.log('Profile loaded:', {\n          userId: _this2.userId,\n          showcasedCards: (_a = _this2.profile) === null || _a === void 0 ? void 0 : _a.showcasedCards\n        });\n\n        if (((_b = _this2.profile) === null || _b === void 0 ? void 0 : _b.showcasedCards) && _this2.profile.showcasedCards.length) {\n          try {\n            // pegar itens do usuário e filtrar apenas os indicados\n            const items = yield _this2.itemService.getUserItems(_this2.userId);\n            _this2.showcasedItems = items.filter(it => {\n              var _a, _b;\n\n              return (_b = (_a = _this2.profile) === null || _a === void 0 ? void 0 : _a.showcasedCards) === null || _b === void 0 ? void 0 : _b.includes(it.id);\n            });\n          } catch (err) {\n            console.warn('Erro ao buscar items showcase', err);\n          }\n        }\n\n        _this2.loading = false;\n      })();\n    }\n\n    startEdit() {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        var _a; // só o dono pode editar\n\n\n        const me = _this3.auth.currentUser;\n        if (!me || _this3.userId !== me.uid) return; // recarregar profile para garantir dados atualizados (especialmente showcasedCards após trocas)\n\n        yield _this3.loadProfile();\n        _this3.editing = true;\n        _this3.modalLoading = true;\n        _this3.modalCancelRequested = false;\n        let timedOut = false;\n\n        try {\n          // carregar itens do próprio usuário para seleção de showcase com timeout\n          const timeoutMs = 8000;\n          const items = yield Promise.race([_this3.itemService.getUserItems(me.uid), new Promise(res => setTimeout(() => {\n            timedOut = true;\n            res([]);\n          }, timeoutMs))]);\n          if (_this3.modalCancelRequested) return; // usuário cancelou enquanto carregava\n\n          if (timedOut) {\n            _this3.error = 'Tempo de carregamento excedido. Tente novamente.';\n            _this3.myItemsForShowcase = items || [];\n          } else {\n            _this3.myItemsForShowcase = items || [];\n          }\n\n          console.log('myItemsForShowcase loaded:', {\n            count: _this3.myItemsForShowcase.length,\n            items: _this3.myItemsForShowcase.map(i => {\n              var _a;\n\n              return {\n                id: i.id,\n                itemId: i.itemId,\n                name: (_a = i.item) === null || _a === void 0 ? void 0 : _a.name\n              };\n            })\n          }); // inicializar seleção com os já escolhidos\n\n          _this3.showcasedSelection = new Set(((_a = _this3.profile) === null || _a === void 0 ? void 0 : _a.showcasedCards) || []);\n          console.log('showcasedSelection initialized:', {\n            size: _this3.showcasedSelection.size,\n            items: Array.from(_this3.showcasedSelection)\n          });\n        } catch (err) {\n          console.error('Erro ao carregar itens para edição', err);\n          _this3.myItemsForShowcase = [];\n          _this3.error = 'Erro ao carregar cartas. Tente novamente.';\n        } finally {\n          if (!_this3.modalCancelRequested) _this3.modalLoading = false;\n        } // dar foco no campo de nome ao abrir o modal (após carregamento)\n\n\n        setTimeout(() => {\n          var _a, _b;\n\n          try {\n            (_b = (_a = _this3.descriptionTextarea) === null || _a === void 0 ? void 0 : _a.nativeElement) === null || _b === void 0 ? void 0 : _b.focus();\n          } catch (e) {}\n        }, 120);\n      })();\n    }\n\n    cancelEdit() {\n      this.modalCancelRequested = true;\n      this.editing = false;\n      this.modalLoading = false;\n      this.error = '';\n    }\n\n    saveEdit() {\n      var _this4 = this;\n\n      return _asyncToGenerator(function* () {\n        if (!_this4.userId || !_this4.profile) return;\n\n        try {\n          _this4.loading = true;\n          console.log('saveEdit - showcasedSelection:', {\n            size: _this4.showcasedSelection.size,\n            items: Array.from(_this4.showcasedSelection)\n          }); // aplicar selections de showcase (validar limite)\n\n          if (_this4.showcasedSelection && _this4.showcasedSelection.size > 6) {\n            _this4.error = 'Você só pode destacar até 6 cartas.';\n            return;\n          }\n\n          if (_this4.profile) {\n            _this4.profile.showcasedCards = Array.from(_this4.showcasedSelection || []);\n            console.log('saveEdit - profile.showcasedCards updated:', _this4.profile.showcasedCards);\n          } // construir payload com campos definidos será tratado pelo service\n\n\n          yield _this4.profileService.updateProfile(_this4.userId, _this4.profile);\n          console.log('saveEdit - profile updated in database');\n          _this4.editing = false;\n          yield _this4.loadProfile();\n          console.log('saveEdit - profile reloaded');\n        } catch (err) {\n          console.error('Erro ao salvar perfil', err);\n          _this4.error = 'Erro ao salvar perfil. Tente novamente.';\n        } finally {\n          _this4.loading = false;\n        }\n      })();\n    }\n\n    selectIcon(path) {\n      if (this.profile) this.profile.profileIcon = path;\n    }\n\n    isVideoUrl(url) {\n      if (!url) return false;\n      return /\\.(webm|mp4)$/i.test(url);\n    }\n\n    toggleShowcase(id, checked) {\n      var _a; // só o dono pode editar seleção de destaque\n\n\n      const me = this.auth.currentUser;\n      if (!me || this.userId !== me.uid) return;\n      console.log('toggleShowcase', {\n        id,\n        checked,\n        currentSize: this.showcasedSelection.size,\n        showcasedCards: (_a = this.profile) === null || _a === void 0 ? void 0 : _a.showcasedCards\n      });\n\n      if (checked) {\n        if (this.showcasedSelection.size >= 6) {\n          console.log('Limite atingido:', this.showcasedSelection.size);\n          this.error = 'Você pode destacar no máximo 6 cartas.';\n          return;\n        }\n\n        this.showcasedSelection.add(id);\n        console.log('Adicionado:', id, 'Novo tamanho:', this.showcasedSelection.size);\n      } else {\n        this.showcasedSelection.delete(id);\n        console.log('Removido:', id, 'Novo tamanho:', this.showcasedSelection.size);\n      }\n\n      this.error = '';\n    }\n\n    sendFriendRequest() {\n      var _this5 = this;\n\n      return _asyncToGenerator(function* () {\n        const me = _this5.auth.currentUser;\n        if (!me || !_this5.userId) return;\n\n        try {\n          // garantir que passamos username (não displayName)\n          const meDoc = yield _this5.userService.getUserById(me.uid);\n          const myName = (meDoc === null || meDoc === void 0 ? void 0 : meDoc.username) || me.email || '';\n          const targetDoc = yield _this5.userService.getUserById(_this5.userId);\n          const targetName = (targetDoc === null || targetDoc === void 0 ? void 0 : targetDoc.username) || '';\n          yield _this5.friendService.sendFriendRequest(me.uid, _this5.userId, myName, targetName, me.profileIcon || me.photoURL || '');\n          alert('Solicitação enviada');\n        } catch (err) {\n          console.error('Erro ao enviar solicitação', err);\n          alert((err === null || err === void 0 ? void 0 : err.message) || 'Erro ao enviar solicitação');\n        }\n      })();\n    }\n\n    openTrade() {\n      this.showTradeModal = true;\n    }\n\n    closeTrade(result) {\n      this.showTradeModal = false;\n      if (result) alert('Proposta enviada');\n    }\n\n  }\n\n  ProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n    return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ProfileService), i0.ɵɵdirectiveInject(i3.ItemService), i0.ɵɵdirectiveInject(i4.AuthService), i0.ɵɵdirectiveInject(i5.FriendService), i0.ɵɵdirectiveInject(i6.UserService));\n  };\n\n  ProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProfileComponent,\n    selectors: [[\"app-profile\"]],\n    viewQuery: function ProfileComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.descriptionTextarea = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.loadingTpl = _t.first);\n      }\n    },\n    decls: 1,\n    vars: 2,\n    consts: [[\"id\", \"profile-container\", 4, \"ngIf\", \"ngIfElse\"], [\"id\", \"profile-container\"], [\"class\", \"page-bg\", 4, \"ngIf\"], [1, \"profile-hero\"], [\"class\", \"hero-video\", \"autoplay\", \"\", \"muted\", \"\", \"loop\", \"\", \"playsinline\", \"\", 4, \"ngIf\"], [\"class\", \"hero-gif\", \"alt\", \"\", 3, \"src\", 4, \"ngIf\"], [\"class\", \"hero-bg-image\", 3, \"background-image\", 4, \"ngIf\"], [1, \"hero-inner\"], [1, \"avatar-wrap\"], [\"alt\", \"Avatar\", 1, \"avatar\", 3, \"src\"], [\"class\", \"edit-badge\", \"title\", \"Editar perfil\", 3, \"click\", 4, \"ngIf\"], [1, \"hero-info\"], [1, \"display-name\"], [1, \"meta-row\"], [1, \"uid\"], [\"class\", \"short-desc\", 4, \"ngIf\"], [1, \"hero-actions\"], [\"class\", \"btn btn-outline\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-primary\", 3, \"click\", 4, \"ngIf\"], [1, \"showcase\"], [1, \"cards\"], [\"class\", \"card\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"dialog\", \"aria-modal\", \"true\", 1, \"modal\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [1, \"edit-profile\"], [\"class\", \"modal-loading\", 4, \"ngIf\"], [\"class\", \"modal-error\", 4, \"ngIf\"], [1, \"edit-grid\"], [1, \"left\"], [\"rows\", \"4\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngIf\", \"ngIfElse\"], [\"noIcons\", \"\"], [1, \"right\"], [1, \"cards-grid\", \"scrollable\"], [\"class\", \"card-checkbox\", 4, \"ngFor\", \"ngForOf\"], [1, \"bottom-options\"], [\"class\", \"bg-preview\", 4, \"ngIf\"], [\"noBg\", \"\"], [1, \"modal-footer\"], [1, \"btn\", \"btn-secondary\", 3, \"disabled\", \"click\"], [1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [\"class\", \"modal-backdrop fade\", 3, \"show\", \"click\", 4, \"ngIf\"], [3, \"targetUserId\", \"targetUsername\", \"targetUserPhoto\", \"closed\", 4, \"ngIf\"], [\"loadingTpl\", \"\"], [1, \"page-bg\"], [\"class\", \"page-bg-video\", \"autoplay\", \"\", \"muted\", \"\", \"loop\", \"\", \"playsinline\", \"\", 4, \"ngIf\"], [\"class\", \"page-bg-gif\", \"alt\", \"\", 3, \"src\", 4, \"ngIf\"], [\"class\", \"page-bg-image\", 3, \"background-image\", 4, \"ngIf\"], [\"autoplay\", \"\", \"muted\", \"\", \"loop\", \"\", \"playsinline\", \"\", 1, \"page-bg-video\"], [\"alt\", \"\", 1, \"page-bg-gif\", 3, \"src\"], [1, \"page-bg-image\"], [\"autoplay\", \"\", \"muted\", \"\", \"loop\", \"\", \"playsinline\", \"\", 1, \"hero-video\"], [\"alt\", \"\", 1, \"hero-gif\", 3, \"src\"], [1, \"hero-bg-image\"], [\"title\", \"Editar perfil\", 1, \"edit-badge\", 3, \"click\"], [1, \"bi\", \"bi-pencil\"], [1, \"short-desc\"], [1, \"btn\", \"btn-outline\", 3, \"click\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"card\"], [1, \"card-frame\"], [\"alt\", \"card\", 3, \"src\"], [1, \"card-title\"], [1, \"modal-loading\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-light\"], [1, \"visually-hidden\"], [1, \"modal-error\"], [1, \"icons-gallery-categories\", \"scrollable\"], [\"class\", \"category\", 4, \"ngFor\", \"ngForOf\"], [1, \"category\"], [1, \"cat-title\"], [1, \"cat-icons\"], [\"class\", \"icon\", 3, \"selected\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"icon\", 3, \"click\"], [\"alt\", \"icon\", 3, \"src\"], [1, \"no-icons\"], [1, \"card-checkbox\"], [\"type\", \"checkbox\", 3, \"checked\", \"change\"], [\"alt\", \"\", 3, \"src\"], [1, \"bg-preview\"], [4, \"ngIf\"], [\"autoplay\", \"\", \"muted\", \"\", \"loop\", \"\", \"playsinline\", \"\", 1, \"bg-preview-video\"], [\"alt\", \"preview\", 1, \"bg-preview-gif\", 3, \"src\"], [1, \"bg-preview-image\"], [1, \"backgrounds-gallery\", \"scrollable\"], [\"class\", \"bg-item\", 3, \"selected\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"bg-item\", 3, \"click\"], [\"alt\", \"background\", 1, \"bg-thumb-gif\", 3, \"src\"], [\"alt\", \"background\", 3, \"src\"], [\"autoplay\", \"\", \"muted\", \"\", \"loop\", \"\", \"playsinline\", \"\", 1, \"bg-thumb-video\"], [1, \"modal-backdrop\", \"fade\", 3, \"click\"], [3, \"targetUserId\", \"targetUsername\", \"targetUserPhoto\", \"closed\"], [1, \"loading\"]],\n    template: function ProfileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProfileComponent_div_0_Template, 69, 33, \"div\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading)(\"ngIfElse\", ctx.loadingTpl);\n      }\n    },\n    directives: [i7.NgIf, i7.NgForOf, i8.DefaultValueAccessor, i8.NgControlStatus, i8.NgModel, i9.TradeModalComponent],\n    pipes: [i7.KeyValuePipe],\n    styles: [\"#profile-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;color:#fff;padding:0 24px}.page-bg[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:0}.page-bg-image[_ngcontent-%COMP%]{position:absolute;inset:0;background-size:cover;background-position:center;filter:blur(5px) saturate(.95);opacity:.95;pointer-events:none}.page-bg-video[_ngcontent-%COMP%], .page-bg-gif[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:0;pointer-events:none;filter:blur(2px) saturate(.95);opacity:.92}.hero-video[_ngcontent-%COMP%], .hero-gif[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:0;pointer-events:none;filter:blur(1px) saturate(.95);opacity:.92}.profile-hero[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:14px;padding:32px;margin-bottom:24px;box-shadow:0 12px 36px #0000008c}.profile-hero[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.22),rgba(0,0,0,.4));z-index:1;pointer-events:none}.hero-bg-image[_ngcontent-%COMP%]{position:absolute;inset:0;background-size:cover;background-position:center;z-index:0}.hero-video[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:0;pointer-events:none}.hero-inner[_ngcontent-%COMP%]{display:flex;grid-gap:28px;gap:28px;align-items:center;position:relative;z-index:2}.avatar-wrap[_ngcontent-%COMP%]{position:relative}.avatar[_ngcontent-%COMP%]{width:160px;height:160px;border-radius:50%;object-fit:cover;border:5px solid rgba(255,255,255,.07);box-shadow:0 10px 28px #0000008c;transition:transform .18s ease,box-shadow .18s ease}.avatar[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 20px 40px #0009}.edit-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;background:linear-gradient(135deg,#ff7a7a,#ffb86b);color:#fff;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 6px 12px #00000059;transition:transform .12s ease}.edit-badge[_ngcontent-%COMP%]:hover{transform:scale(1.06)}.hero-info[_ngcontent-%COMP%]{flex:1}.display-name[_ngcontent-%COMP%]{font-size:40px;margin:0;letter-spacing:1px}.meta-row[_ngcontent-%COMP%]{display:flex;grid-gap:12px;gap:12px;margin-top:6px;align-items:center}.level[_ngcontent-%COMP%]{background:rgba(255,255,255,.06);padding:6px 10px;border-radius:8px}.uid[_ngcontent-%COMP%]{opacity:.85}.short-desc[_ngcontent-%COMP%]{margin-top:10px;background:rgba(0,0,0,.35);padding:12px;border-radius:8px}.hero-actions[_ngcontent-%COMP%]{margin-top:12px;display:flex;grid-gap:8px;gap:8px}.showcase[_ngcontent-%COMP%]{margin-top:10px}.showcase[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#fff}.cards[_ngcontent-%COMP%]{display:flex;grid-gap:12px;gap:12px;flex-wrap:wrap}.card[_ngcontent-%COMP%]{width:140px;text-align:center;background:rgba(0,0,0,.5)}.card-frame[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(255,255,255,.03),rgba(255,255,255,.02));padding:8px;border-radius:8px;box-shadow:inset 0 1px #ffffff08}.card-frame[_ngcontent-%COMP%]{height:120px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,.02);border-radius:8px;padding:6px}.card-frame[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;display:block;border-radius:6px}.card-title[_ngcontent-%COMP%]{margin-top:6px;font-size:12px;color:#fff}.edit-profile[_ngcontent-%COMP%]{margin-top:18px}.cat-title[_ngcontent-%COMP%]{font-weight:600;color:#fff;padding:4px 8px;margin-bottom:6px;font-size:13px}.edit-grid[_ngcontent-%COMP%]{display:flex;grid-gap:18px;gap:18px}.edit-grid[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:1}.edit-grid[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:420px}.icons-gallery[_ngcontent-%COMP%]{display:flex;grid-gap:8px;gap:8px;flex-wrap:wrap;margin-top:8px}.icon[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:8px;overflow:hidden;cursor:pointer;border:2px solid transparent}.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.icon.selected[_ngcontent-%COMP%]{border-color:#4fc3f7}.icons-gallery-categories[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:12px;gap:12px;margin-top:8px}.category[_ngcontent-%COMP%]{background:rgba(255,255,255,.02);padding:8px;border-radius:10px}.cat-icons[_ngcontent-%COMP%]{display:flex;grid-gap:8px;gap:8px;flex-wrap:wrap}.cat-icons[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:8px}.icon[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 18px #00000073}.icon.selected[_ngcontent-%COMP%]{box-shadow:0 6px 20px #4cc3f72e;border-color:#ba68c8}@media (max-width: 560px){.cat-icons[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:48px;height:48px}.cat-title[_ngcontent-%COMP%]{font-size:12px}}.no-icons[_ngcontent-%COMP%]{margin-top:8px;padding:10px;background:rgba(255,255,255,.02);border-radius:8px;color:#cfcfe6}.no-icons[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:rgba(0,0,0,.15);padding:2px 6px;border-radius:4px;font-size:12px}.cards-grid[_ngcontent-%COMP%]{display:flex;grid-gap:8px;gap:8px;flex-wrap:wrap}.card-checkbox[_ngcontent-%COMP%]{width:120px;display:flex;flex-direction:column;align-items:center;grid-gap:6px;gap:6px}.card-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:6px}.card-checkbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:120px;object-fit:contain;border-radius:6px;display:block}.actions[_ngcontent-%COMP%]{margin-top:12px;display:flex;grid-gap:8px;gap:8px}@media (max-width: 880px){.hero-inner[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.edit-grid[_ngcontent-%COMP%]{flex-direction:column}.edit-grid[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]{width:100px}}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:2000}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{width:100%;max-width:1100px;max-height:1300px;padding:12px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;background:linear-gradient(180deg,rgba(16,16,20,.95),rgba(9,6,12,.95));border-radius:10px;box-shadow:0 20px 60px #0009;color:#fff;overflow:hidden;max-height:1510px;z-index:2001}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:12px 16px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(255,255,255,.03)}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:16px;overflow:auto;max-height:calc(95vh - 140px)}.modal-loading[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0);z-index:2002;pointer-events:none}.modal-loading[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{pointer-events:none}.modal-error[_ngcontent-%COMP%]{margin:8px 0;padding:8px;background:rgba(255,0,0,.06);border-radius:6px;color:#ffb3b3}.modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:12px 16px;display:flex;grid-gap:8px;gap:8px;justify-content:flex-end;border-top:1px solid rgba(255,255,255,.03);position:sticky;bottom:0;background:linear-gradient(180deg,rgba(16,16,20,0),rgba(16,16,20,.95));z-index:2005}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:1990}.scrollable[_ngcontent-%COMP%]{max-height:240px;overflow:auto;padding:4px}.icons-gallery-categories.scrollable[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:12px;gap:12px}.backgrounds-gallery[_ngcontent-%COMP%]{display:flex;grid-gap:8px;gap:8px;overflow-x:auto;padding:6px}.backgrounds-gallery[_ngcontent-%COMP%]   .bg-item[_ngcontent-%COMP%]{width:120px;height:68px;border-radius:8px;overflow:hidden;cursor:pointer;border:2px solid transparent;flex:0 0 120px;background:rgba(0,0,0,.05);display:flex;align-items:center;justify-content:center}.backgrounds-gallery[_ngcontent-%COMP%]   .bg-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.backgrounds-gallery[_ngcontent-%COMP%]   .bg-item.selected[_ngcontent-%COMP%]{border-color:#8b5cf6}.backgrounds-gallery[_ngcontent-%COMP%]   .bg-item[_ngcontent-%COMP%]   video.bg-thumb-video[_ngcontent-%COMP%], .backgrounds-gallery[_ngcontent-%COMP%]   .bg-item[_ngcontent-%COMP%]   img.bg-thumb-gif[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;pointer-events:none}.bg-preview[_ngcontent-%COMP%]{width:100%;height:120px;margin:8px 0 12px;border-radius:8px;overflow:hidden;background:rgba(0,0,0,.18);display:flex;align-items:center;justify-content:center}.bg-preview-video[_ngcontent-%COMP%], .bg-preview-gif[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;pointer-events:none;filter:blur(1px) saturate(.95);opacity:.95}.bg-preview-image[_ngcontent-%COMP%]{width:100%;height:100%;background-size:cover;background-position:center;pointer-events:none}.bg-preview[_ngcontent-%COMP%]:after{content:\\\"\\\";position:absolute;inset:auto 0 0 0;height:40px;background:linear-gradient(180deg,rgba(0,0,0,0),rgba(0,0,0,.45));pointer-events:none}.cards-grid.scrollable[_ngcontent-%COMP%]{max-height:240px;overflow:auto;display:flex;grid-gap:8px;gap:8px;flex-wrap:wrap}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,.06);background:rgba(0,0,0,.25);color:#fff}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b5cf6}@media (max-width: 560px){.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{max-width:96%;padding:6px}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:8px}.backgrounds-gallery[_ngcontent-%COMP%]   .bg-item[_ngcontent-%COMP%]{width:96px;height:56px}}@media (max-width: 480px){.display-name[_ngcontent-%COMP%]{font-size:28px}.avatar[_ngcontent-%COMP%]{width:112px;height:112px}.card-frame[_ngcontent-%COMP%]{height:96px}.card-frame[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:96px}}\"]\n  });\n  return ProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}