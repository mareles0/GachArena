{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/olimp/OneDrive/Documentos/estagio/Estagio-etapa-3/GachArena/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class BoxService {\n  constructor(http) {\n    this.http = http;\n  }\n\n  createBox(box) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const boxData = Object.assign(Object.assign({}, box), {\n        createdAt: new Date()\n      });\n      const docRef = yield addDoc(collection(_this.db, 'boxes'), boxData);\n      return docRef.id;\n    })();\n  }\n\n  getActiveBoxes() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const q = query(collection(_this2.db, 'boxes'), where('active', '==', true));\n      const querySnapshot = yield getDocs(q);\n      return querySnapshot.docs.map(doc => Object.assign({\n        id: doc.id\n      }, doc.data()));\n    })();\n  }\n\n  getBoxesByType(type) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      const q = query(collection(_this3.db, 'boxes'), where('active', '==', true), where('type', '==', type));\n      const querySnapshot = yield getDocs(q);\n      return querySnapshot.docs.map(doc => Object.assign({\n        id: doc.id\n      }, doc.data()));\n    })();\n  }\n\n  getAllBoxes() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      const querySnapshot = yield getDocs(collection(_this4.db, 'boxes'));\n      return querySnapshot.docs.map(doc => Object.assign({\n        id: doc.id\n      }, doc.data()));\n    })();\n  }\n\n  getBoxById(boxId) {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      const docRef = doc(_this5.db, 'boxes', boxId);\n      const docSnap = yield getDoc(docRef);\n\n      if (docSnap.exists()) {\n        return Object.assign({\n          id: docSnap.id\n        }, docSnap.data());\n      }\n\n      return null;\n    })();\n  }\n\n  updateBox(boxId, data) {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      const docRef = doc(_this6.db, 'boxes', boxId);\n      yield updateDoc(docRef, data);\n    })();\n  }\n\n  deleteBox(boxId) {\n    var _this7 = this;\n\n    return _asyncToGenerator(function* () {\n      const docRef = doc(_this7.db, 'boxes', boxId);\n      yield deleteDoc(docRef);\n    })();\n  }\n\n}\n\nBoxService.ɵfac = function BoxService_Factory(t) {\n  return new (t || BoxService)(i0.ɵɵinject(i1.HttpClient));\n};\n\nBoxService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: BoxService,\n  factory: BoxService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:/Users/olimp/OneDrive/Documentos/estagio/Estagio-etapa-3/GachArena/frontend/src/app/services/box.service.ts"],"names":["i0","i1","BoxService","constructor","http","createBox","box","boxData","Object","assign","createdAt","Date","docRef","addDoc","collection","db","id","getActiveBoxes","q","query","where","querySnapshot","getDocs","docs","map","doc","data","getBoxesByType","type","getAllBoxes","getBoxById","boxId","docSnap","getDoc","exists","updateBox","updateDoc","deleteBox","deleteDoc","ɵfac","BoxService_Factory","t","ɵɵinject","HttpClient","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/common/http\";\r\nexport class BoxService {\r\n    constructor(http) {\r\n        this.http = http;\r\n    }\r\n    async createBox(box) {\r\n        const boxData = Object.assign(Object.assign({}, box), { createdAt: new Date() });\r\n        const docRef = await addDoc(collection(this.db, 'boxes'), boxData);\r\n        return docRef.id;\r\n    }\r\n    async getActiveBoxes() {\r\n        const q = query(collection(this.db, 'boxes'), where('active', '==', true));\r\n        const querySnapshot = await getDocs(q);\r\n        return querySnapshot.docs.map(doc => (Object.assign({ id: doc.id }, doc.data())));\r\n    }\r\n    async getBoxesByType(type) {\r\n        const q = query(collection(this.db, 'boxes'), where('active', '==', true), where('type', '==', type));\r\n        const querySnapshot = await getDocs(q);\r\n        return querySnapshot.docs.map(doc => (Object.assign({ id: doc.id }, doc.data())));\r\n    }\r\n    async getAllBoxes() {\r\n        const querySnapshot = await getDocs(collection(this.db, 'boxes'));\r\n        return querySnapshot.docs.map(doc => (Object.assign({ id: doc.id }, doc.data())));\r\n    }\r\n    async getBoxById(boxId) {\r\n        const docRef = doc(this.db, 'boxes', boxId);\r\n        const docSnap = await getDoc(docRef);\r\n        if (docSnap.exists()) {\r\n            return Object.assign({ id: docSnap.id }, docSnap.data());\r\n        }\r\n        return null;\r\n    }\r\n    async updateBox(boxId, data) {\r\n        const docRef = doc(this.db, 'boxes', boxId);\r\n        await updateDoc(docRef, data);\r\n    }\r\n    async deleteBox(boxId) {\r\n        const docRef = doc(this.db, 'boxes', boxId);\r\n        await deleteDoc(docRef);\r\n    }\r\n}\r\nBoxService.ɵfac = function BoxService_Factory(t) { return new (t || BoxService)(i0.ɵɵinject(i1.HttpClient)); };\r\nBoxService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: BoxService, factory: BoxService.ɵfac, providedIn: 'root' });\r\n"]},"metadata":{},"sourceType":"module"}