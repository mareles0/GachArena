{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/olimp/OneDrive/Documentos/estagio/Estagio-etapa-3/GachArena/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/trade.service\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"../../services/item.service\";\nimport * as i4 from \"@angular/common\";\n\nfunction TradesComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.notification.type);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.notification.message);\n  }\n}\n\nfunction TradesComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Carregando...\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TradesComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.error);\n  }\n}\n\nfunction TradesComponent_div_16_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \"Nenhuma proposta recebida\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TradesComponent_div_16_div_2_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵlistener(\"click\", function TradesComponent_div_16_div_2_div_17_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const t_r8 = i0.ɵɵnextContext().$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return ctx_r13.toggleExpand(t_r8.id);\n    });\n    i0.ɵɵelement(1, \"img\", 29);\n    i0.ɵɵelementStart(2, \"div\", 30);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const it_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", it_r12.item.imageUrl || \"assets/default-card.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(it_r12.item.name);\n  }\n}\n\nfunction TradesComponent_div_16_div_2_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵlistener(\"click\", function TradesComponent_div_16_div_2_div_22_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const t_r8 = i0.ɵɵnextContext().$implicit;\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return ctx_r17.toggleExpand(t_r8.id);\n    });\n    i0.ɵɵelement(1, \"img\", 29);\n    i0.ɵɵelementStart(2, \"div\", 30);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const it_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", it_r16.item.imageUrl || \"assets/default-card.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(it_r16.item.name);\n  }\n}\n\nfunction TradesComponent_div_16_div_2_div_30_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵelement(1, \"img\", 35);\n    i0.ɵɵelementStart(2, \"div\", 36);\n    i0.ɵɵelementStart(3, \"div\", 37);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 38);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 39);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 40);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const it_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", it_r22.item.imageUrl || \"assets/default-card.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(it_r22.item.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Raridade: \", it_r22.item.rarity, \" (\", it_r22.rarityLevel, \"/1000)\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Poder: \", it_r22.item.power, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(it_r22.item.description);\n  }\n}\n\nfunction TradesComponent_div_16_div_2_div_30_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵelement(1, \"img\", 35);\n    i0.ɵɵelementStart(2, \"div\", 36);\n    i0.ɵɵelementStart(3, \"div\", 37);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 38);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 39);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 40);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const it_r23 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", it_r23.item.imageUrl || \"assets/default-card.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(it_r23.item.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Raridade: \", it_r23.item.rarity, \" (\", it_r23.rarityLevel, \"/1000)\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Poder: \", it_r23.item.power, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(it_r23.item.description);\n  }\n}\n\nfunction TradesComponent_div_16_div_2_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵelementStart(1, \"div\", 32);\n    i0.ɵɵelementStart(2, \"h4\");\n    i0.ɵɵtext(3, \"Oferece\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, TradesComponent_div_16_div_2_div_30_div_4_Template, 11, 6, \"div\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 32);\n    i0.ɵɵelementStart(6, \"h4\");\n    i0.ɵɵtext(7, \"Solicita\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, TradesComponent_div_16_div_2_div_30_div_8_Template, 11, 6, \"div\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const t_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", t_r8.offeredItems);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", t_r8.requestedItems);\n  }\n}\n\nfunction TradesComponent_div_16_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵelementStart(1, \"div\", 16);\n    i0.ɵɵelementStart(2, \"div\");\n    i0.ɵɵelementStart(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \" prop\\u00F5e troca\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 17);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementStart(10, \"span\", 18);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 19);\n    i0.ɵɵelementStart(13, \"div\");\n    i0.ɵɵelementStart(14, \"div\", 20);\n    i0.ɵɵtext(15, \"Oferece\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 21);\n    i0.ɵɵtemplate(17, TradesComponent_div_16_div_2_div_17_Template, 4, 2, \"div\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\");\n    i0.ɵɵelementStart(19, \"div\", 20);\n    i0.ɵɵtext(20, \"Solicita\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 21);\n    i0.ɵɵtemplate(22, TradesComponent_div_16_div_2_div_22_Template, 4, 2, \"div\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 23);\n    i0.ɵɵelementStart(24, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function TradesComponent_div_16_div_2_Template_button_click_24_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r26);\n      const t_r8 = restoredCtx.$implicit;\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return ctx_r25.accept(t_r8.id);\n    });\n    i0.ɵɵtext(25, \"Aceitar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function TradesComponent_div_16_div_2_Template_button_click_26_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r26);\n      const t_r8 = restoredCtx.$implicit;\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return ctx_r27.reject(t_r8.id);\n    });\n    i0.ɵɵtext(27, \"Rejeitar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function TradesComponent_div_16_div_2_Template_button_click_28_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r26);\n      const t_r8 = restoredCtx.$implicit;\n      const ctx_r28 = i0.ɵɵnextContext(2);\n      return ctx_r28.toggleExpand(t_r8.id);\n    });\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(30, TradesComponent_div_16_div_2_div_30_Template, 9, 2, \"div\", 27);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const t_r8 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(t_r8.fromUsername);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", (t_r8.createdAt == null ? null : t_r8.createdAt.toDate) ? i0.ɵɵpipeBind2(8, 7, t_r8.createdAt.toDate(), \"short\") : i0.ɵɵpipeBind2(9, 10, t_r8.createdAt, \"short\"), \" - \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(t_r8.status || \"PENDENTE\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", t_r8.offeredItems);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", t_r8.requestedItems);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r7.expandedTradeId === t_r8.id ? \"Ocultar detalhes\" : \"Ver detalhes\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.expandedTradeId === t_r8.id);\n  }\n}\n\nfunction TradesComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, TradesComponent_div_16_div_1_Template, 2, 0, \"div\", 12);\n    i0.ɵɵtemplate(2, TradesComponent_div_16_div_2_Template, 31, 13, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.received.length === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.received);\n  }\n}\n\nfunction TradesComponent_div_17_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \"Nenhuma proposta enviada\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TradesComponent_div_17_div_2_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵlistener(\"click\", function TradesComponent_div_17_div_2_div_17_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const t_r31 = i0.ɵɵnextContext().$implicit;\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return ctx_r37.toggleExpand(t_r31.id);\n    });\n    i0.ɵɵelement(1, \"img\", 29);\n    i0.ɵɵelementStart(2, \"div\", 30);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const it_r36 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", it_r36.item.imageUrl || \"assets/default-card.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(it_r36.item.name);\n  }\n}\n\nfunction TradesComponent_div_17_div_2_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵlistener(\"click\", function TradesComponent_div_17_div_2_div_22_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const t_r31 = i0.ɵɵnextContext().$implicit;\n      const ctx_r41 = i0.ɵɵnextContext(2);\n      return ctx_r41.toggleExpand(t_r31.id);\n    });\n    i0.ɵɵelement(1, \"img\", 29);\n    i0.ɵɵelementStart(2, \"div\", 30);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const it_r40 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", it_r40.item.imageUrl || \"assets/default-card.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(it_r40.item.name);\n  }\n}\n\nfunction TradesComponent_div_17_div_2_button_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function TradesComponent_div_17_div_2_button_24_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const t_r31 = i0.ɵɵnextContext().$implicit;\n      const ctx_r44 = i0.ɵɵnextContext(2);\n      return ctx_r44.cancel(t_r31.id);\n    });\n    i0.ɵɵtext(1, \"Cancelar\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TradesComponent_div_17_div_2_div_27_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵelement(1, \"img\", 35);\n    i0.ɵɵelementStart(2, \"div\", 36);\n    i0.ɵɵelementStart(3, \"div\", 37);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 38);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 39);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 40);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const it_r49 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", it_r49.item.imageUrl || \"assets/default-card.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(it_r49.item.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Raridade: \", it_r49.item.rarity, \" (\", it_r49.rarityLevel, \"/1000)\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Poder: \", it_r49.item.power, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(it_r49.item.description);\n  }\n}\n\nfunction TradesComponent_div_17_div_2_div_27_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵelement(1, \"img\", 35);\n    i0.ɵɵelementStart(2, \"div\", 36);\n    i0.ɵɵelementStart(3, \"div\", 37);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 38);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 39);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 40);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const it_r50 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", it_r50.item.imageUrl || \"assets/default-card.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(it_r50.item.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Raridade: \", it_r50.item.rarity, \" (\", it_r50.rarityLevel, \"/1000)\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Poder: \", it_r50.item.power, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(it_r50.item.description);\n  }\n}\n\nfunction TradesComponent_div_17_div_2_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵelementStart(1, \"div\", 32);\n    i0.ɵɵelementStart(2, \"h4\");\n    i0.ɵɵtext(3, \"Voc\\u00EA oferece\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, TradesComponent_div_17_div_2_div_27_div_4_Template, 11, 6, \"div\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 32);\n    i0.ɵɵelementStart(6, \"h4\");\n    i0.ɵɵtext(7, \"Voc\\u00EA solicita\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, TradesComponent_div_17_div_2_div_27_div_8_Template, 11, 6, \"div\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const t_r31 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", t_r31.offeredItems);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", t_r31.requestedItems);\n  }\n}\n\nfunction TradesComponent_div_17_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r53 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵelementStart(1, \"div\", 16);\n    i0.ɵɵelementStart(2, \"div\");\n    i0.ɵɵtext(3, \"Enviada para \");\n    i0.ɵɵelementStart(4, \"strong\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 17);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementStart(10, \"span\", 18);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 19);\n    i0.ɵɵelementStart(13, \"div\");\n    i0.ɵɵelementStart(14, \"div\", 20);\n    i0.ɵɵtext(15, \"Voc\\u00EA oferece\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 21);\n    i0.ɵɵtemplate(17, TradesComponent_div_17_div_2_div_17_Template, 4, 2, \"div\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\");\n    i0.ɵɵelementStart(19, \"div\", 20);\n    i0.ɵɵtext(20, \"Voc\\u00EA solicita\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 21);\n    i0.ɵɵtemplate(22, TradesComponent_div_17_div_2_div_22_Template, 4, 2, \"div\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 23);\n    i0.ɵɵtemplate(24, TradesComponent_div_17_div_2_button_24_Template, 2, 0, \"button\", 42);\n    i0.ɵɵelementStart(25, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function TradesComponent_div_17_div_2_Template_button_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r53);\n      const t_r31 = restoredCtx.$implicit;\n      const ctx_r52 = i0.ɵɵnextContext(2);\n      return ctx_r52.toggleExpand(t_r31.id);\n    });\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(27, TradesComponent_div_17_div_2_div_27_Template, 9, 2, \"div\", 27);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const t_r31 = ctx.$implicit;\n    const ctx_r30 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(t_r31.toUsername);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", (t_r31.createdAt == null ? null : t_r31.createdAt.toDate) ? i0.ɵɵpipeBind2(8, 8, t_r31.createdAt.toDate(), \"short\") : i0.ɵɵpipeBind2(9, 11, t_r31.createdAt, \"short\"), \" - \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(t_r31.status || \"PENDENTE\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", t_r31.offeredItems);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", t_r31.requestedItems);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", t_r31.status === \"PENDING\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r30.expandedTradeId === t_r31.id ? \"Ocultar detalhes\" : \"Ver detalhes\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r30.expandedTradeId === t_r31.id);\n  }\n}\n\nfunction TradesComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, TradesComponent_div_17_div_1_Template, 2, 0, \"div\", 12);\n    i0.ɵɵtemplate(2, TradesComponent_div_17_div_2_Template, 28, 14, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.sent.length === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.sent);\n  }\n}\n\nfunction TradesComponent_div_18_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \"Nenhum hist\\u00F3rico de trocas\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TradesComponent_div_18_div_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" prop\\u00F4s troca\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const t_r56 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(t_r56.fromUsername);\n  }\n}\n\nfunction TradesComponent_div_18_div_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Voc\\u00EA prop\\u00F4s troca para \");\n    i0.ɵɵelementStart(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const t_r56 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(t_r56.toUsername);\n  }\n}\n\nfunction TradesComponent_div_18_div_2_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r67 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵlistener(\"click\", function TradesComponent_div_18_div_2_div_15_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r67);\n      const t_r56 = i0.ɵɵnextContext().$implicit;\n      const ctx_r65 = i0.ɵɵnextContext(2);\n      return ctx_r65.toggleExpand(t_r56.id);\n    });\n    i0.ɵɵelement(1, \"img\", 29);\n    i0.ɵɵelementStart(2, \"div\", 30);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const it_r64 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", it_r64.item.imageUrl || \"assets/default-card.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(it_r64.item.name);\n  }\n}\n\nfunction TradesComponent_div_18_div_2_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r71 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵlistener(\"click\", function TradesComponent_div_18_div_2_div_20_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r71);\n      const t_r56 = i0.ɵɵnextContext().$implicit;\n      const ctx_r69 = i0.ɵɵnextContext(2);\n      return ctx_r69.toggleExpand(t_r56.id);\n    });\n    i0.ɵɵelement(1, \"img\", 29);\n    i0.ɵɵelementStart(2, \"div\", 30);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const it_r68 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", it_r68.item.imageUrl || \"assets/default-card.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(it_r68.item.name);\n  }\n}\n\nfunction TradesComponent_div_18_div_2_div_24_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵelement(1, \"img\", 35);\n    i0.ɵɵelementStart(2, \"div\", 36);\n    i0.ɵɵelementStart(3, \"div\", 37);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 38);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 39);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 40);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const it_r74 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", it_r74.item.imageUrl || \"assets/default-card.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(it_r74.item.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Raridade: \", it_r74.item.rarity, \" (\", it_r74.rarityLevel, \"/1000)\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Poder: \", it_r74.item.power, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(it_r74.item.description);\n  }\n}\n\nfunction TradesComponent_div_18_div_2_div_24_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵelement(1, \"img\", 35);\n    i0.ɵɵelementStart(2, \"div\", 36);\n    i0.ɵɵelementStart(3, \"div\", 37);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 38);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 39);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 40);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const it_r75 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", it_r75.item.imageUrl || \"assets/default-card.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(it_r75.item.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Raridade: \", it_r75.item.rarity, \" (\", it_r75.rarityLevel, \"/1000)\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Poder: \", it_r75.item.power, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(it_r75.item.description);\n  }\n}\n\nfunction TradesComponent_div_18_div_2_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵelementStart(1, \"div\", 32);\n    i0.ɵɵelementStart(2, \"h4\");\n    i0.ɵɵtext(3, \"Itens oferecidos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, TradesComponent_div_18_div_2_div_24_div_4_Template, 11, 6, \"div\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 32);\n    i0.ɵɵelementStart(6, \"h4\");\n    i0.ɵɵtext(7, \"Itens solicitados\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, TradesComponent_div_18_div_2_div_24_div_8_Template, 11, 6, \"div\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const t_r56 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", t_r56.offeredItems);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", t_r56.requestedItems);\n  }\n}\n\nfunction TradesComponent_div_18_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r78 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵelementStart(1, \"div\", 16);\n    i0.ɵɵtemplate(2, TradesComponent_div_18_div_2_div_2_Template, 4, 1, \"div\", 7);\n    i0.ɵɵtemplate(3, TradesComponent_div_18_div_2_div_3_Template, 4, 1, \"div\", 7);\n    i0.ɵɵelementStart(4, \"div\", 17);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementStart(8, \"span\", 44);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 19);\n    i0.ɵɵelementStart(11, \"div\");\n    i0.ɵɵelementStart(12, \"div\", 20);\n    i0.ɵɵtext(13, \"Itens oferecidos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 21);\n    i0.ɵɵtemplate(15, TradesComponent_div_18_div_2_div_15_Template, 4, 2, \"div\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\");\n    i0.ɵɵelementStart(17, \"div\", 20);\n    i0.ɵɵtext(18, \"Itens solicitados\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 21);\n    i0.ɵɵtemplate(20, TradesComponent_div_18_div_2_div_20_Template, 4, 2, \"div\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 23);\n    i0.ɵɵelementStart(22, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function TradesComponent_div_18_div_2_Template_button_click_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r78);\n      const t_r56 = restoredCtx.$implicit;\n      const ctx_r77 = i0.ɵɵnextContext(2);\n      return ctx_r77.toggleExpand(t_r56.id);\n    });\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(24, TradesComponent_div_18_div_2_div_24_Template, 9, 2, \"div\", 27);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const t_r56 = ctx.$implicit;\n    const ctx_r55 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", t_r56.fromUsername);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", t_r56.toUsername);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", (t_r56.createdAt == null ? null : t_r56.createdAt.toDate) ? i0.ɵɵpipeBind2(6, 9, t_r56.createdAt.toDate(), \"short\") : i0.ɵɵpipeBind2(7, 12, t_r56.createdAt, \"short\"), \" - \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", t_r56.status.toLowerCase());\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(t_r56.status);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", t_r56.offeredItems);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", t_r56.requestedItems);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r55.expandedTradeId === t_r56.id ? \"Ocultar detalhes\" : \"Ver detalhes\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r55.expandedTradeId === t_r56.id);\n  }\n}\n\nfunction TradesComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, TradesComponent_div_18_div_1_Template, 2, 0, \"div\", 12);\n    i0.ɵɵtemplate(2, TradesComponent_div_18_div_2_Template, 25, 15, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.history.length === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.history);\n  }\n}\n\nexport let TradesComponent = /*#__PURE__*/(() => {\n  class TradesComponent {\n    constructor(tradeService, auth, itemService) {\n      this.tradeService = tradeService;\n      this.auth = auth;\n      this.itemService = itemService;\n      this.received = [];\n      this.sent = [];\n      this.history = [];\n      this.view = 'received';\n      this.expandedTradeId = null;\n      this.loading = false;\n      this.error = '';\n      this.notification = {\n        show: false,\n        message: '',\n        type: 'success'\n      };\n    }\n\n    ngOnInit() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        const me = yield _this.auth.getCurrentUser();\n        console.log('current user uid:', me === null || me === void 0 ? void 0 : me.uid);\n        if (!me) return;\n        yield _this.load();\n      })();\n    }\n\n    load() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        _this2.loading = true;\n        const me = yield _this2.auth.getCurrentUser();\n        if (!me) return;\n\n        try {\n          // Received\n          const rTrades = yield _this2.tradeService.getUserReceivedTrades(me.uid);\n          const receivedDetailed = yield Promise.all(rTrades.map( /*#__PURE__*/function () {\n            var _ref = _asyncToGenerator(function* (t) {\n              const offered = yield Promise.all((t.offeredUserItemIds || []).map(id => _this2.itemService.getUserItemById(id)));\n              const requested = yield Promise.all((t.requestedUserItemIds || []).map(id => _this2.itemService.getUserItemById(id)));\n              return Object.assign(Object.assign({}, t), {\n                offeredItems: offered.filter(Boolean),\n                requestedItems: requested.filter(Boolean)\n              });\n            });\n\n            return function (_x) {\n              return _ref.apply(this, arguments);\n            };\n          }()));\n          _this2.received = receivedDetailed.filter(t => t.status === 'PENDING'); // Sent\n\n          const sTrades = yield _this2.tradeService.getUserSentTrades(me.uid);\n          const sentDetailed = yield Promise.all(sTrades.map( /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator(function* (t) {\n              const offered = yield Promise.all((t.offeredUserItemIds || []).map(id => _this2.itemService.getUserItemById(id)));\n              const requested = yield Promise.all((t.requestedUserItemIds || []).map(id => _this2.itemService.getUserItemById(id)));\n              return Object.assign(Object.assign({}, t), {\n                offeredItems: offered.filter(Boolean),\n                requestedItems: requested.filter(Boolean)\n              });\n            });\n\n            return function (_x2) {\n              return _ref2.apply(this, arguments);\n            };\n          }()));\n          _this2.sent = sentDetailed.filter(t => t.status === 'PENDING'); // History\n\n          _this2.history = [...receivedDetailed, ...sentDetailed].filter(t => t.status !== 'PENDING');\n        } catch (err) {\n          console.error('Erro ao carregar propostas', err);\n          _this2.error = 'Erro ao carregar propostas';\n        } finally {\n          _this2.loading = false;\n        }\n      })();\n    }\n\n    accept(tId) {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        try {\n          if (!confirm('Tem certeza que quer aceitar essa troca?')) return;\n          yield _this3.tradeService.acceptTrade(tId);\n          yield _this3.load();\n\n          _this3.showNotification('Troca aceita!', 'success');\n        } catch (err) {\n          _this3.showNotification((err === null || err === void 0 ? void 0 : err.message) || 'Erro ao aceitar', 'error');\n        }\n      })();\n    }\n\n    reject(tId) {\n      var _this4 = this;\n\n      return _asyncToGenerator(function* () {\n        try {\n          if (!confirm('Tem certeza que quer rejeitar essa troca?')) return;\n          yield _this4.tradeService.rejectTrade(tId);\n          yield _this4.load();\n\n          _this4.showNotification('Troca rejeitada!', 'success');\n        } catch (err) {\n          _this4.showNotification((err === null || err === void 0 ? void 0 : err.message) || 'Erro ao rejeitar', 'error');\n        }\n      })();\n    }\n\n    cancel(tId) {\n      var _this5 = this;\n\n      return _asyncToGenerator(function* () {\n        try {\n          if (!confirm('Tem certeza que quer cancelar essa troca?')) return;\n          yield _this5.tradeService.cancelTrade(tId);\n          yield _this5.load();\n\n          _this5.showNotification('Troca cancelada!', 'success');\n        } catch (err) {\n          _this5.showNotification((err === null || err === void 0 ? void 0 : err.message) || 'Erro ao cancelar', 'error');\n        }\n      })();\n    }\n\n    toggleExpand(tId) {\n      this.expandedTradeId = this.expandedTradeId === tId ? null : tId;\n    }\n\n    setView(v) {\n      this.view = v;\n      this.expandedTradeId = null;\n    }\n\n    showNotification(message, type = 'success') {\n      this.notification = {\n        show: true,\n        message,\n        type\n      };\n      setTimeout(() => this.notification.show = false, 5000);\n    }\n\n  }\n\n  TradesComponent.ɵfac = function TradesComponent_Factory(t) {\n    return new (t || TradesComponent)(i0.ɵɵdirectiveInject(i1.TradeService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ItemService));\n  };\n\n  TradesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TradesComponent,\n    selectors: [[\"app-trades\"]],\n    decls: 19,\n    vars: 15,\n    consts: [[1, \"trades-wrapper\"], [\"src\", \"https://i.pinimg.com/originals/08/e5/97/08e597e1addb5f2aab9ae3ac4820b285.gif\", \"alt\", \"\", \"aria-hidden\", \"true\", 1, \"bg-gif\"], [1, \"bg-overlay\"], [\"class\", \"notification-container\", 4, \"ngIf\"], [1, \"trades-container\"], [1, \"tabs\"], [3, \"click\"], [4, \"ngIf\"], [\"class\", \"error\", 4, \"ngIf\"], [1, \"notification-container\"], [1, \"notification\", 3, \"ngClass\"], [1, \"error\"], [\"class\", \"empty\", 4, \"ngIf\"], [\"class\", \"trade-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"empty\"], [1, \"trade-item\"], [1, \"trade-header\"], [1, \"trade-meta\"], [1, \"status\"], [1, \"preview-row\"], [1, \"preview-title\"], [1, \"preview-items\"], [\"class\", \"mini-card\", \"tabindex\", \"0\", \"role\", \"button\", \"aria-pressed\", \"false\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"actions\"], [1, \"btn\", \"btn-aceitar\", 3, \"click\"], [1, \"btn\", \"btn-rejeitar\", 3, \"click\"], [1, \"btn\", \"btn-link\", 3, \"click\"], [\"class\", \"trade-details\", 4, \"ngIf\"], [\"tabindex\", \"0\", \"role\", \"button\", \"aria-pressed\", \"false\", 1, \"mini-card\", 3, \"click\"], [\"alt\", \"\", 3, \"src\"], [1, \"mini-name\"], [1, \"trade-details\"], [1, \"detail-col\"], [\"class\", \"full-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"full-card\"], [\"alt\", \"\", 1, \"full-image\", 3, \"src\"], [1, \"full-meta\"], [1, \"name\"], [1, \"rarity\"], [1, \"power\"], [1, \"desc\"], [\"class\", \"mini-card\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"btn btn-rejeitar\", 3, \"click\", 4, \"ngIf\"], [1, \"mini-card\", 3, \"click\"], [1, \"status\", 3, \"ngClass\"]],\n    template: function TradesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"img\", 1);\n        i0.ɵɵelement(2, \"div\", 2);\n        i0.ɵɵtemplate(3, TradesComponent_div_3_Template, 3, 2, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"h2\");\n        i0.ɵɵtext(6, \"Trocas\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵelementStart(8, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function TradesComponent_Template_button_click_8_listener() {\n          return ctx.setView(\"received\");\n        });\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function TradesComponent_Template_button_click_10_listener() {\n          return ctx.setView(\"sent\");\n        });\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function TradesComponent_Template_button_click_12_listener() {\n          return ctx.setView(\"history\");\n        });\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(14, TradesComponent_div_14_Template, 2, 0, \"div\", 7);\n        i0.ɵɵtemplate(15, TradesComponent_div_15_Template, 2, 1, \"div\", 8);\n        i0.ɵɵtemplate(16, TradesComponent_div_16_Template, 3, 2, \"div\", 7);\n        i0.ɵɵtemplate(17, TradesComponent_div_17_Template, 3, 2, \"div\", 7);\n        i0.ɵɵtemplate(18, TradesComponent_div_18_Template, 3, 2, \"div\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.notification.show);\n        i0.ɵɵadvance(5);\n        i0.ɵɵclassProp(\"active\", ctx.view === \"received\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\"Recebidas (\", ctx.received.length, \")\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassProp(\"active\", ctx.view === \"sent\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\"Enviadas (\", ctx.sent.length, \")\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassProp(\"active\", ctx.view === \"history\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\"Hist\\u00F3rico (\", ctx.history.length, \")\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.view === \"received\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.view === \"sent\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.view === \"history\");\n      }\n    },\n    directives: [i4.NgIf, i4.NgClass, i4.NgForOf],\n    pipes: [i4.DatePipe],\n    styles: [\".bg-video[_ngcontent-%COMP%]{position:fixed;inset:0;width:100%;height:100%;object-fit:cover;z-index:1;pointer-events:none;filter:brightness(.7) saturate(.95)}.bg-gif[_ngcontent-%COMP%]{position:fixed;inset:0;width:100%;height:100%;object-fit:cover;z-index:0;pointer-events:none;filter:brightness(.75) saturate(.95);opacity:.95}.bg-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.55));z-index:2;pointer-events:none}.trades-container[_ngcontent-%COMP%]{max-width:900px;margin:40px auto;color:#fff;position:relative;z-index:10}.trade-item[_ngcontent-%COMP%]{background:rgba(0,0,0,.7);padding:12px;margin-bottom:8px;border-radius:6px}.actions[_ngcontent-%COMP%]{margin-top:8px;display:flex;grid-gap:8px;gap:8px}.preview-row[_ngcontent-%COMP%]{display:flex;grid-gap:20px;gap:20px;margin-top:8px}.preview-items[_ngcontent-%COMP%]{display:flex;grid-gap:8px;gap:8px}.mini-card[_ngcontent-%COMP%]{width:80px;text-align:center}.mini-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:90px;object-fit:cover;border-radius:6px}.mini-name[_ngcontent-%COMP%]{font-size:12px;margin-top:4px}.preview-title[_ngcontent-%COMP%]{font-size:13px;margin-bottom:6px;opacity:.9}.tabs[_ngcontent-%COMP%]{display:flex;grid-gap:8px;gap:8px;margin-bottom:12px}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);border:1px solid rgba(255,255,255,.3);color:#fff;padding:10px 16px;border-radius:6px;cursor:pointer;transition:all .2s;font-weight:500}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#e03a24;border-color:#c31313;color:#fff}.trade-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.trade-meta[_ngcontent-%COMP%]{font-size:12px;opacity:.8}.status[_ngcontent-%COMP%]{font-weight:600}.status.accepted[_ngcontent-%COMP%]{color:#10b981}.status.rejected[_ngcontent-%COMP%]{color:#ef4444}.empty[_ngcontent-%COMP%]{padding:20px;text-align:center;opacity:.8}.trade-details[_ngcontent-%COMP%]{display:flex;grid-gap:16px;gap:16px;margin-top:12px}.detail-col[_ngcontent-%COMP%]{flex:1;background:rgba(0,0,0,.7);padding:10px;border-radius:6px}.full-card[_ngcontent-%COMP%]{display:flex;grid-gap:10px;gap:10px;margin-bottom:10px;align-items:center}.full-image[_ngcontent-%COMP%]{width:120px;height:90px;object-fit:cover;border-radius:6px}.full-meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700}.full-meta[_ngcontent-%COMP%]   .rarity[_ngcontent-%COMP%], .full-meta[_ngcontent-%COMP%]   .power[_ngcontent-%COMP%]{font-size:12px;opacity:.9}.full-meta[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;margin-top:6px;opacity:.85}@media (max-width: 700px){.preview-row[_ngcontent-%COMP%]{flex-direction:column}.trade-details[_ngcontent-%COMP%]{flex-direction:column}.mini-card[_ngcontent-%COMP%]{width:70px}}.notification-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999}.notification[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-radius:.5rem;color:#fff;font-weight:500;min-width:300px}.notification.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.notification.error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.notification.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb)}.btn-aceitar[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none;padding:8px 12px;border-radius:4px;cursor:pointer;transition:background-color .2s}.btn-aceitar[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-rejeitar[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:8px 12px;border-radius:4px;cursor:pointer;transition:background-color .2s}.btn-rejeitar[_ngcontent-%COMP%]:hover{background-color:#c82333}\"]\n  });\n  return TradesComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}